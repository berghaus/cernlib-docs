<PRE>




          <H2>Geant  3.11  Routine  BASE020</H2>


          <PRE>


          Origin:                                                            Submitted:  01.10.84
          Revision:                                                            Revised:  20.03.94
          Documentation:  M.Maire


          </PRE>  <HR>  <H2>The  data  structures  and  their
          relationship</H2>


          <PRE>


          </PRE>


          <H2>Dynamic  memory</H2>


          <PRE>


          The  GEANT  data  structures  are  stored  in  the
          common  /GCBANK/  accessible  through  the  following
          Patchy  sequence:  The  /GCLINK/  variables  are
          pointers  to  the  GEANT  data  structures  in  the
          /GCBANK/  common.  They  belong  to  a  permanent  area
          declared  in  GZINIT.


          _________________________________________________________________________________________________________________________*
 *_________
+SEQ  /GCB|ANK/___Dynamic__core__for__the__GEANT__data__structures_________________________________________________________________*
 *_________ |

                     PARAMETER  (KWBANK=69000,KWWORK=5200)
                     COMMON/GCBANK/NZEBRA,GVERSN,ZVERSN,IXSTOR,IXDIV,IXCONS,FENDQ(16)
                   +                       ,LMAIN,LR1,WS(KWBANK)
                     DIMENSION  IQ(2),Q(2),LQ(8000),IWS(2)
                     EQUIVALENCE  (Q(1),IQ(1),LQ(9)),(LQ(1),LMAIN),(IWS(1),WS(1))
                     EQUIVALENCE  (JCG,JGSTAT)
                     COMMON/GCLINK/JDIGI  ,JDRAW  ,JHEAD  ,JHITS  ,JKINE  ,JMATE  ,JPART
                   +           ,JROTM  ,JRUNG  ,JSET    ,JSTAK  ,JGSTAT,JTMED  ,JTRACK,JVERTX
                   +           ,JVOLUM,JXYZ    ,JGPAR  ,JGPAR2,JSKLT
          C


          The  figure  on  the  next  page  indicates  the
          ralations  between  the  GEANT  data  structures.
          Detailed  description  of  the  data  structure  parts
          can  be  found  in  the  following  sections:



   JRUNG                   [BASE299]



   JPART                   [CONS399]                       JMATE                [CONS199]



   JROTM                   [GEOM299]                       JTMED                [CONS299]



   JVOLUM                  [GEOM199]



   JSET                    [HITS199]                       JDRAW                [DRAW399]



   JHEAD                   [BASE299]                       JKINE                [KINE199]                        JVERTX            *
 *        [KINE199]



   JSTAK                   [TRAK399]



   IDIGI                   [HITS399]                       JHITS                [HITS299]                             JXYZ         *
 *      [TRAK  499]


<A  HREF=  "  file=eps/base020-1.eps,width=12cm  "  >
                             PS  picture  (click  here)</A>


 Figure  1:  Relation  between  GEANT  data  structures



</PRE>


<H2>Common  blocks</H2>


<PRE>


The  communication  between  program  segments  of  the
GEANT  system  is  assured  by  the  contents  of  the
data  structures  and  by  the  definition  of  long
range  variables  in  several  common  blocks.  In
addition,  within  the  program  segments,  the
subroutines  communicate  with  each  other  through
actual  arguments  and  through  the  common  block
variables.  A  detailed  list  of  the  user  accessed
common  blocks  is  given  in  [ZZZZ010].  Their  also
the  variables  initialized  in  GINIT  and  the
possibility  in  overriding  them  through  data
records  [BASE040]  or  interactive  commands  [XINT]
are  specified.


In  most  of  the  cases  there  is  a  correspondence
between  a  given  data  structure  and  a  given  common
block  where  the  current  contents  of  the  banks  are
stored.  The  labelled  common  blocks  are  accessible
through  Patchy/CMZ  sequences  identified  by  the
name  of  the  COMMON.  They  are  defined  in  the  Patch
GCDES.


Note:


Unless  otherwise  specified,  the  long  range
variables  are  initialised  in  GINIT.  When
non-zero,  default  values  are  quoted  between
brackets.  If  the  value  may  be  modified  the
keyword  for  the  data  record  and  for  the
interactive  command  is  also  given  in  bold
characters  between  brackets.
</PRE>
