<PRE>




<H2>Geant  3.16  Routine  GEOM130</H2>


<PRE>


Origin:  R.Brun,  A.McPherson      Submitted:  29.09.83
Revision:                                                            Revised:  18.11.93
Documentation:


</PRE>  <HR>  <H2>Division  of  a  volume  into  a  given
number  of  cells</H2>


<PRE>



       CALL  GSDVN                       (CHNAME,CHMOTH,NDIV,IAXIS)



Divide  a  volume  in  a  given  number  of  parts  along  a
direction.


CHNAME                    (CHARACTER*4)  a  unique  name  for  the
                          volume  to  be  generated  by  subdivision  of
                          the  mother  volume;
CHMOTH                    (CHARACTER*4)  volume  that  has  to  be
                          subdivided;
NDIV                      (INTEGER)  number  of  divisions  into
                          which  the  mother  volume  is  to  be
                          divided;
IAXIS                     (INTEGER)  axis  of  the  division.


The  volumes  resulting  from  a  division  are  true
volumes  in  the  GEANT  sense,  with  the  only
limitation  that  they  cannot  be  positioned.  They
can  have  daughters  and  they  can  still  be  divided
in  turn.  Different  divisions  are  distinguished  by
a  different  division  number,  much  the  same  as
different  copy  of  the  same  volume  by  the  copy
number.  Every  operation  performed  on  a  division
cell  (positioning  or  further  division),  is
automatically  propagated  to  all  divisions  cells
of  the  same  mother.


The  kind  of  the  division  is  indicated  by  the  IAXIS
argument.  The  allowed  values  of  IAXIS  and  the
resulting  divisions  are  shown  in  figs.  ??    ,  ??    ,
??    ,  ??    ,  where  the  pictures  in  the  first  column
correspond  to  an  IAXIS  value  equal  to  1,  the
second  column  to  IAXIS  =  2,  and  the  third  column
to  IAXIS  =  3  respectivly.  The  basic  constraint
imposed  by  the  GEANT  geometry  is  that  the  result
of  a  division  is  a  volume  which  can  be  described
in  terms  of  the  basic  shapes.


The  local  coordinate  system  of  the  divisions  is
parallel  to  the  system  of  the  mother  in  case  of



divisions  obtained  by  parallel  planes  or
concentric  divisions.  In  the  case  of  parallel
axes  the  coordinate  system  is  shifted  so  that  it
is  in  the  centre  of  the  division.  In  case  of  phi
divisions  produced  by  planes  passing  through  the
axis  of  a  volume  with  axial  symmetry  (TUBE,  TUBS,
CONE,  CONS,  PGON,  PCON,  SPHE),  the  local
coordinate  systems  will  be  rotated  so  that  the  x
axis  passes  through  the  centre  of  the  division.


This  routine  allows  the  user  to  generate  a  large
number  of  identical  volumes  filling  a  defined
volume.  The  material  of  the  slices  is  inherited
from  the  mother.


It  may  happen  that  the  different  divisions  of  a
volume  have  different  dimensions.  In  this  case,
if  a  volume  has  to  be  positioned  in  each  division,
its  dimensions  must  be  different  according  to  the
division  number.  This  can  be  obtained  in  some
special  cases  giving  to  the  dimension  of  the
volume  which  has  to  vary  in  order  to  fit  into  the
different  mothers,  the  value  of  -1  in  the  call  to
GSVOLU  which  defines  it.  As  explained  in
[GEOM050],  GEANT  will  take  care  to  assign  to  this
dimension  the  maximum  value  in  order  to  fill  the
current  mother.


What  can  be  done  with  division  can  be  done  also,
in  most  cases,  explicitly  positioning  all  the
copies.  Users  must  be  aware,  however,  that
divisions  offer  the  best  performance  in  tracking
of  all  GEANT  geometrical  constructs,  and  they
should  be  used  instead  of  positioning  whenever
possible  in  the  definition  of  objects.



<A  HREF=  "  file=eps/geom130-1.eps,width=16cm  "  >
                             PS  picture  (click  here)</A>


                       Figure  1:  shapes  BOX,  TRD1,  TRD2



<A  HREF=  "  file=eps/geom130-2.eps,width=16cm  "  >
                             PS  picture  (click  here)</A>


                     Figure  2:  shapes  TRAP,  TUBE,  TUBS



<A  HREF=  "  file=eps/geom130-3.eps,width=16cm  "  >
                             PS  picture  (click  here)</A>


                             Figure  3:  shapes  CONE,  CONS



<A  HREF=  "  file=eps/geom130-4.eps,width=16cm  "  >
                             PS  picture  (click  here)</A>


                     Figure  4:  shapes  PARA,  PGON,  PCON
</PRE>
