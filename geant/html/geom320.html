<PRE>




<H2>Geant  3.16  Routine  GEOM320</H2>


<PRE>


Origin:  R.  Brun                                        Submitted:  18.08.87
Revision:                                                            Revised:  15.12.93
Documentation:


</PRE>  <HR>  <H2>Reference  system
transformations</H2>


<PRE>



       CALL  GMTOD                       (XM,XD*,IFLAG)



XM                        (REAL)  array  of  3  containing  the  input
                          position  (IFLAG=1)  or  direction  cosines
                          (IFLAG=2)  in  the  Master  Reference
                          System;
XD                        (REAL)  array  of  3  containing  the  output
                          position  (IFLAG=1)  or  direction  cosines
                          (IFLAG=2)  in  the  (current)  Daughter
                          Reference  System;
IFLAG                     (INTEGER)  transformation  flag:

                          1             input  is  a  position,  it  must  be
                                        translated  and  rotated;
                          2             input  is  a  direction,  it  must  be
                                        rotated.


This  routine  transform  coordinates  or  directions
from  the  MRS  to  the  reference  system  of  the
current  volume.  The  /GCVOLU/  must  be  properly
filled,  either  by  the  tracking  routines,  by
GMEDIA  or  by  GLVOLU.



       CALL  GDTOM                       (XD,XM*,IFLAG)



Performs  the  inverse  operation  to  GMTOD.
</PRE>
