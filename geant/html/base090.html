<PRE>




<H2>Geant  3.16  Routine  BASE090</H2>


<PRE>


Origin:                                                            Submitted:  01.10.84
Revision:                                                            Revised:  26.10.93
Documentation:  R.Brun,  F.Bruyant


</PRE>  <HR>  <H2>The  reference  systems  and
physical  units</H2>


<PRE>


</PRE>


<H2>The  MAster  Reference  System  (MARS)</H2>


<PRE>


The  kinematic  variables  of  the  particles
transporter  by  GEANT  are  always  referred  to  the
so-called  MAster  Reference  System  (MARS).  This
system  is  implicitly  defined  as  the  local
reference  system  of  the  first  volume  defined,
which  contains  all  the  others.  This  is  a
Cartesian  coordinate  system  with  axis  ^x , ^y , ^z
where  ^z  = ^x x ^y .  If  the  axes  are  labelled  (X,Y,Z),
then  the  point  P  is  represented  in  fig  ??    .


 <A  HREF=  "  file=eps/base090-1.eps,width=10cm  "  >
                              PS  picture  (click  here)</A>


                       Figure  1:  GEANT  reference  system



Tracking  is  performed  in  the  MARS  and  the  input
position  for  user  routines  such  as  the  magnetic
field  routine  is  given  in  this  system.


</PRE>


<H2>The  local  reference  systems  (MRS  and
DRS)</H2>


<PRE>


As  explained  in  [GEOM001],  the  setup  is  described
via  the  definition  of  an  initial  volume  inside
which  all  the  others  will  be  positioned.  In  GEANT
terminology,  each  time  a  volume  has  contents,
created  either  via  division  or  by  positioning
other  volumes  inside,  it  is  called  a  MOTHER.  The
volumes  contained  are  called  DAUGHTERs,  and  they,
in  turn,  can  contain  volumes  to  a  depth  of  15
levels.  This  is  sometimes  referred  to  as  a
Russian  doll  geometry.



Every  volume  defined  in  GEANT  has  a  reference
system  attached  to  it  (see  GEOM  section).  When
this  volume  has  contents,  this  is  referred  to  as
the  Mother  Reference  System  (MRS,  with  origin  in
O   ).  Daughters  are  positioned  inside  the  mother
 m

with  respect  to  the  MRS.  The  MRS  of  the  first
volume  defined,  containing  all  the  others,  is
nothing  else  than  the  MARS.


Each  one  of  the  daughters  has  its  own  reference
system,  which  is  referred  to  as  the  Daughter
Reference  System,  or  DRS  with  origin  in  O   .
                                                d


The  transformation  of  a  point  from  the  MRS  (V   )  to
                                                     m

the  DRS  (V   ),  at  any  level,  is  performed  using  a
            d

rotation  matrix  [R]  and  a  translation  vector  T
via  the  relation  :

                                                V    = [R](V   - T)
                                                 d          m


The  components  of  T  are  the  projections  of  the
vector  (O   , O   )  onto  the  MRS  axes.  The  rotation
          m     d

matrices  are  computed  from  the  spherical  angles
of  each  of  the  axes  of  the  daughter  reference
systems  (I,  II,  III)  with  respect  to  the  mother
reference  system  (1,  2,  3).  The  spherical  angles
Theta           and  Phi       of  a  direction  D  are  defined  as
follows  :


Theta            is  the  angle  formed  by  the  axis  3  and  D

                     o                           o
                 (0      < Theta          < 180     ).
Phi              is  the  angle  formed  by  the  axis  1  and  the
                 projection  of  D  onto  the  plane  defined  by

                                           o                     o
                 the  axes  1  and  2  (0      < Phi      < 360     ).


Examples  are  given  in  [GEOM200].  The  various
rotation  matrices  required  for  a  given  setup  must
be  defined  by  the  user  during  the  initialisation
stage.  A  number  is  assigned  to  each  matrix
[GEOM200].  The  translation  vector  and  the  number
of  the  rotation  matrix  are  specified  by  the  user
when  the  volumes  are  positioned  inside  their
mother  [GEOM110].


</PRE>


<H2>Physical  units</H2>



<PRE>


Unless  otherwise  specified,  the  following  units
are  used  throughout  the  program:  centimeter,

                                 -1
second,  kilogauss,  GeV,  GeV  c        (momentum),  GeV

 -2
c        (mass)  and  degree.
</PRE>
