<TITLE>HEPDB -- H1hdbuser-Description-of-command-line-interface </TITLE>
<P>
<H1><A NAME=H1hdbuser-Description-of-command-line-interface.html>Description of command line interface</A></H1>
<P>
A simple shell interface to HEPDB is provided, using the KUIP <A
HREF=H1Bibliography.html#bib-KUIP>[bib-KUIP]</A> package. To run this
interface, simply type hepdb.
<PRE>
                         +----------------------+
                         | <A NAME=COUNT> COUNT</A> [ PATH CHOPT ] |
                         +----------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>PATH</TT></DT><DD>Character variable specifying the pathname in
which the objects are to be counted.
<DT><TT>CHOPT</TT></DT><DD>Character variable specifing the options
required
<DL>
<DT><TT>D</TT></DT><DD>display number of subdirectories at each level
<DT><TT>O</TT></DT><DD>display number of objects at each level
<DT><TT>L</TT></DT><DD>display lowest level only, i.e. directories with no
subdirectories
<DT><TT>Z</TT></DT><DD>display only directories with no (zero) objects
</DL>
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#COUNT NAME=COUNT273> COUNT</A> command to count the number of objects in the specified
directories.
<P>
<PRE>
                                +--------+
                                |<A NAME=FILES> FILES</A>   |
                                +--------+
                                  </PRE>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#FILES NAME=FILES274> FILES</A> command to display the files that are currently open.
<P>
<PRE>
                   +----------------------------------+
                   | <A NAME=LOGLEVEL> LOGLEVEL</A> [ PATH LOGLEVEL CHOPT ] |
                   +----------------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>PATH</TT></DT><DD>Top directory name of HEPDB file.
<DT><TT>LOGLEV</TT></DT><DD>Log level
<DL>
<DT><TT><0</TT></DT><DD>no messages are printed
<DT><TT> 1</TT></DT><DD>error messages from main HEPDB routines (default
value)
<DT><TT> 2</TT></DT><DD>error messages and warnings from main HEPDB
routines
<DT><TT> 3</TT></DT><DD>error messages, warnings and informative messages
from main HEPDB routines
<DT><TT> 4</TT></DT><DD>As above, but also error messages from HEPDB
internal routines
<DT><TT> 5</TT></DT><DD>As above, but also warnings from HEPDB internal
routines
<DT><TT>>5</TT></DT><DD>all messages are printed, and also additional
debug.
</DL>
<DT><TT>CHOPT</TT></DT><DD>Character option
<DL>
<DT><TT>A</TT></DT><DD>Set RZ loglevel for all HEPDB files that are
currently open
</DL>
</DL>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#LOGLEVEL NAME=LOGLEVEL275> LOGLEVEL</A> command to set the HEPDB logging level.
<P>
<PRE>
                   +----------------------------------+
                   | <A NAME=OPEN> OPEN</A> PREFIX [ CHFILE ] [ CHOPT ] |
                   +----------------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>PREFIX</TT></DT><DD>Character variable specifying the two
character database prefix
<DT><TT>CHFILE</TT></DT><DD>Character variable specifying the file name
<DT><TT>CHOPT</TT></DT><DD>Character option, as for the <A HREF=H2hdbuser-Initialisation-and-termination.html#CDOPEN NAME=CDOPEN276> CDOPEN</A> routine.
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#OPEN NAME=OPEN277> OPEN</A> command to open a HEPDB file
<P>
<PRE>
                        +------------------------+
                        | <A NAME=CLOSE> CLOSE</A> PREFIX [ CHOPT ] |
                        +------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>PREFIX</TT></DT><DD>Character variable specifying the database
prefix of the database to be cloed.
<DT><TT>CHOPT</TT></DT><DD>Character option, as for the <A HREF=H2hdbuser-Initialisation-and-termination.html#CDEND NAME=CDEND278> CDEND</A> routine.
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#CLOSE NAME=CLOSE279> CLOSE</A> command to close a HEPDB file. previously opened using the
<A HREF=H1hdbuser-Description-of-command-line-interface.html#OPEN NAME=OPEN280> OPEN</A> command.
<P>
The <A HREF=H1hdbuser-Description-of-command-line-interface.html#CLOSE NAME=CLOSE281> CLOSE</A> command accepts a two character database prefix, top directory
name, or pathname. Thus, for a file with database prefix BK, the following
commands are identical.
<PRE>
CLOSE BK
CLOSE CDBK
CLOSE //CDBK
</PRE>
<P>
<PRE>
                     +------------------------------+
                     |<A NAME=RZOPEN> RZOPEN</A> CHTOP CHFILE [ CHOPT ] |
                     +------------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHTOP</TT></DT><DD>Character variable specifying the top directory
name
<DT><TT>CHFILE</TT></DT><DD>Character variable specifying the file name
<DT><TT>CHOPT</TT></DT><DD>Character option
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#RZOPEN NAME=RZOPEN282> RZOPEN</A> command to open an RZ file
<P>
<PRE>
                  +------------------------------------+
                  | <A NAME=RZCLOSE> RZCLOSE</A> CHTOP [ CHFILE ] [ CHOPT ] |
                  +------------------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHTOP</TT></DT><DD>Character variable specifying the top directory
name
<DT><TT>CHFILE</TT></DT><DD>Character variable specifying the file name
<DT><TT>CHOPT</TT></DT><DD>Character option
<DL>
<DT><TT>A</TT></DT><DD>Close all files
</DL>
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#RZCLOSE NAME=RZCLOSE283> RZCLOSE</A> command to close a file previously opened with <A HREF=H1hdbuser-Description-of-command-line-interface.html#RZOPEN NAME=RZOPEN284> RZOPEN</A>
<P>
<PRE>
                         +----------------------+
                         |<A NAME=OUTPUT> OUTPUT</A> [ FILE CHOPT ] |
                         +----------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>FILE</TT></DT><DD>Character variable specifying the name of the
file
<DT><TT>CHOPT</TT></DT><DD>Character options
<DL>
<DT><TT>C</TT></DT><DD>close file and redirect output to terminal
<DT><TT>P</TT></DT><DD>preserve case of file
<DT><TT>R</TT></DT><DD>replace existing file
<DT><TT>S</TT></DT><DD>switch back to previously opened file
<DT><TT>T</TT></DT><DD>redirect output back to terminal
</DL>
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#OUTPUT NAME=OUTPUT285> OUTPUT</A> command to redirect output to a specified file or to the
terminal.
<P>
<PRE>
                               +----------+
                               |<A NAME=VERSION> VERSION</A>   |
                               +----------+
                                  </PRE>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#VERSION NAME=VERSION286> VERSION</A> command to display the version of the HEPDB software that
you are running.
<P>
<PRE>
                        +------------------------+
                        |<A NAME=CD> CD</A> [ CHPATH ] [ CHOPT ] |
                        +------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the name of the
new directory
<DT><TT>CHOPT</TT></DT><DD>Character option
<DL>
<DT><TT>Q</TT></DT><DD>show quota for new directory
<DT><TT>S</TT></DT><DD>show number of subdirectories
<DT><TT>T</TT></DT><DD>show creation and modification times
<DT><TT>U</TT></DT><DD>show usage information
<DT><TT>A</TT></DT><DD>all of the above
</DL>
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#CD NAME=CD287> CD</A> command to change the current working directory.
If the pathname begins with a % character then it is assumed to be an
alias and is automatically translated by the internal HEPDB routines.
<P>
<PRE>
                      +----------------------------+
                      | <A NAME=LD> LD</A> [ CHPATH NLEVEL CHOPT ] |
                      +----------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
<DT><TT>NLEVEL</TT></DT><DD>Number of levels to display
<DT><TT>CHOPT</TT></DT><DD>Character options
<DL>
<DT><TT>C</TT></DT><DD>Display the RZ creation date and time
<DT><TT>M</TT></DT><DD>Display the RZ modification date and time
<DT><TT>O</TT></DT><DD>List the number of objects at each level
<DT><TT>R</TT></DT><DD>List subdirectories recursively
<DT><TT>S</TT></DT><DD>Display the number of subdirectories at each level
<DT><TT>T</TT></DT><DD>Display the tags as specified in the call to <A NAME=RZMDIR288> RZMDIR</A>
</DL>
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#LD NAME=LD289> LD</A> command to display subdirectories below the specified level.
<P>
<PRE>
                       +--------------------------+
                       | <A NAME=LS> LS</A> [ CHPATH BANK CHOPT ] |
                       +--------------------------+
                                  </PRE>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the path name to
be listed
<DT><TT>BANK</TT></DT><DD>Character variable specifying the name of the
bank to display
<DT><TT>CHOPT</TT></DT><DD>Character options
<DL>
<DT><TT>C</TT></DT><DD>display object count
<DT><TT>D</TT></DT><DD>display key definitions
<DT><TT>S</TT></DT><DD>display the system keys
<DT><TT>E</TT></DT><DD>display the experiment keys
<DT><TT>G</TT></DT><DD>display keys using generic routine (<A NAME=RZPRNK290> RZPRNK</A>)
<DT><TT>V</TT></DT><DD>display validity range pairs
<DT><TT>U</TT></DT><DD>display user keys
<DT><TT>K</TT></DT><DD>display all keys
<DT><TT>L</TT></DT><DD>list only lowest level (end node) directories
(default)
<DT><TT>N</TT></DT><DD>display number of data words
<DT><TT>P</TT></DT><DD>display pathname (default)
<DT><TT>T</TT></DT><DD>display insertion date and time (RZ value)
<DT><TT>Z</TT></DT><DD>dump ZEBRA bank with <A NAME=DZSHOW291> DZSHOW</A>
</DL>
</DL>
<P>
Use the <A NAME=Z293> Z</A> is
specified, the name of the bank(s) to be displayed may be given. If
multiple banks are to be displayed, their names should be separated by
commas. Wild cards are permitted in bank names.
<P>
<PRE>
                                 +------+
                                 |<A NAME=PWD> PWD</A>   |
                                 +------+
                                  </PRE>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#PWD NAME=PWD294> PWD</A> command to print the current (working) directory.
<P>
<DL>
<DT><TT>CHOPT</TT></DT><DD>Character options
<DL>
<DT><TT>A</TT></DT><DD>display alias name for current directory
</DL>
</DL>
<P>
<PRE>
                    +--------------------------------+
                    | <A NAME=STATUS> STATUS</A> [ CHPATH NLEVEL CHOPT ] |
                    +--------------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
<DT><TT>NLEVEL</TT></DT><DD>Number of levels to display
<DT><TT>CHOPT</TT></DT><DD>Character options as for <A NAME=RZSTAT295> RZSTAT</A>
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#STATUS NAME=STATUS296> STATUS</A> command to print usage statistics on the specified
directory down <A NAME=NLEVEL297> NLEVEL</A> levels.
<P>
<PRE>
                        +------------------------+
                        | <A NAME=TREE> TREE</A> [ CHPATH NLEVEL ] |
                        +------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
<DT><TT>NLEVEL</TT></DT><DD>Number of levels to display
<DT><TT>CHOPT</TT></DT><DD>Character options
<DL>
<DT><TT>A</TT></DT><DD>show alias name (if any) for each directory
<DT><TT>N</TT></DT><DD>show the number of objects for each directory if
non-zero
<DT><TT>O</TT></DT><DD>show the number of objects for each directory
<DT><TT>S</TT></DT><DD>show the number of subdirectories for each
directory
<DT><TT>C</TT></DT><DD>show the date and time the directory was created
<DT><TT>M</TT></DT><DD>show the date and time of the last modification
(RZ)
</DL>
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#TREE NAME=TREE298> TREE</A> command to draw a directory tree starting at the specified
directory down <A NAME=NLEVEL299> NLEVEL</A> levels.
<P>
<PRE>
                     +------------------------------+
                     | <A NAME=SELECT> SELECT</A> ISEL1 [ ISEL2 ISEL3 ] |
                     +------------------------------+
                                  </PRE>
<DL>
<DT><TT>ISEL1</TT></DT><DD>Integer variable specifying the primary
selection
<DT><TT>ISEL2</TT></DT><DD>Integer variable specifying the secondary
selection
<DT><TT>ISEL3</TT></DT><DD>Integer variable specifying the tertiary
selection
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#SELECT NAME=SELECT300> SELECT</A> command to specify the instant of validity for which
objects are required.
<P>
<PRE>
                               +----------+
                               |<A NAME=ZOOM> ZOOM</A> PATH |
                               +----------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#ZOOM NAME=ZOOM301> ZOOM</A> command to descend the specified directory tree to the first
lowest level directory that contains one or more entries. The directory
specification may contain wild-cards.
<P>
<PRE>
                         +----------------------+
                         | <A NAME=DIR> DIR</A> [ CHPATH CHOPT ] |
                         +----------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
<DT><TT>CHOPT</TT></DT><DD>Character variable specifying the options
<DL>
<DT><TT>'T'</TT></DT><DD>List also subdirectory tree
</DL>
</DL>
<P>
Use the <A NAME=RZLDIR303> RZLDIR</A> for the specified path. This
command is normally used for debug purposes only.
<P>
<PRE>
                    +--------------------------------+
                    |<A NAME=EXTRACT> EXTRACT</A> [ CHPATH OUTPUT CHOPT ] |
                    +--------------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
<DT><TT>OUTPUT</TT></DT><DD>Character variable specifying the output
filename
<DT><TT>CHOPT</TT></DT><DD>Character variable specifying the options
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#EXTRACT NAME=EXTRACT304> EXTRACT</A> command to copy a subset of the HEPDB catalogue
<P>
<PRE>
                     +------------------------------+
                     | <A NAME=MERGE> MERGE</A> [ INPUT CHPATH CHOPT ] |
                     +------------------------------+
                                  </PRE>
<P>
<DL>
<DT><TT>INPUT</TT></DT><DD>Character variable specifying the input file
name
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
<DT><TT>CHOPT</TT></DT><DD>Character variable specifying the options
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#MERGE NAME=MERGE305> MERGE</A> command to merge an update file created by the <A HREF=H1hdbuser-Description-of-command-line-interface.html#EXTRACT NAME=EXTRACT306> EXTRACT</A>
command into the specified path.
<P>
<PRE>
                             +--------------+
                             | <A NAME=MKDIR> MKDIR</A> CHPATH |
                             +--------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
</DL>
<P>
Use the MKDIR command to create a directory
<P>
<PRE>
                                +--------+
                                |<A NAME=RM> RM</A> KEY1 |
                                +--------+
                                  </PRE>
<P>
<DL>
<DT><TT>KEY1</TT></DT><DD>Integer variable specifying the key serial
number of the object to be deleted
</DL>
<P>
<PRE>
                             +--------------+
                             | <A NAME=RMDIR> RMDIR</A> CHPATH |
                             +--------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#RMDIR NAME=RMDIR307> RMDIR</A> command to remove a directory from the catalogue.
<P>
Note that directories can only be removed if:
<P>
<OL>
<LI>They contain no subdirectories
<LI>They contain no entries
</OL>
<P>
<PRE>
                             +--------------+
                             |<A NAME=RMTREE> RMTREE</A> CHPATH |
                             +--------------+
                                  </PRE>
<P>
<DL>
<DT><TT>CHPATH</TT></DT><DD>Character variable specifying the pathname
</DL>
<P>
Use the <A HREF=H1hdbuser-Description-of-command-line-interface.html#RMTREE NAME=RMTREE308> RMTREE</A> command to remove a complete directory tree.
<P>
Note that if any of the directories below the named directory contain
entries, then the command will be refused.
