<TITLE>HEPDB -- H2hdbappen-The-packing-method </TITLE>
<P>
<H2><A NAME=H2hdbappen-The-packing-method.html>The packing method</A></H2>
<P>
In the packing method, all numbers are first converted to integers by
multiplying the original number with <TT>10**IPREC</TT>, a user specified
quantity. They are then truncated at the decimal point. The minimum offset
to make all numbers positive is then found and added to each value. The
optimum packing factor is then determined. This factor is chosen so that
the minimum number of words are used after packing. The data is then
packed, except for those words which cannot be stored with the chosen
packing factor, which are stored in 32 bit words. Here again 3 extra words
are used to keep useful information, as follows:
<P>
<OL>
<LI>The number of data words
<TT>*10**4 + original data type*1000 + (IPREC+100)</TT> The data type is
indicated as follows:
<DL>
<DT><TT>2</TT></DT><DD>Integer
<DT><TT>3</TT></DT><DD>Floating point
</DL>
<LI>The offset to make all the numbers positive
<LI>A packed word with bits
<TT>1-26</TT> = number of words stored as 32-bit words,
bits <TT>27-31</TT> = number of bits used in packing,
bit <TT>32</TT> set to distinguish from the other methods.
</OL>
<P>
