<TITLE>HEPDB -- H2hdbtutr-Placement-of-servers </TITLE>
<P>
<H2><A NAME=H2hdbtutr-Placement-of-servers.html>Placement of servers</A></H2>
<P>
The first step in setting up a new HEPDB server is that of making a home
for it to reside in. In the case of UNIX and VMS platforms this merely
involves the creation of a directory with some arbitrary name. In the
following paragraphs we shall assume the server has been placed in the
directory hepdb/expdb. <FN>The exact server setup at CERN is described on
page
 <A HREF=H1hdbappen-Managing-HEPDB-servers-at-CERN.html#CERN-servers>[<B>more info</B>]</A>.</FN> Within this directory one should now
create the subdirectories which are used to hold various data essential to
the server. The first of these should be named logs (this is where the
server logs are written), the second queue (this directory holds new
updates from HEPDB clients) <FN>The above names are in fact arbitrary and
are driven by a configuration file. In addition, the server input queue
and client output queue are not necessarily the same, depending on whether
the server is a master or slave.</FN>, and the third save (the place the
server saves updates after processing). In addition, a further directory
named bad is used to store files that cannot be successfully processed.
<P>
In the case of VM platforms the following procedure should be adopted.
There should be one account per experiment set aside for the server, this
should be given a name consisting of the prefix CD followed by the
experiment name. For example the CPLEAR collaborations server is named
CDCPLEAR. (Note that in the following examples when reffering to a VM
implementation our example account will be CDEXPDB)
<P>
Within this account your 191 addressed disk (this will hold the actual
database files) should be allocated some 20 cylinders of space, your 192
addressed disk (the link disk to the HEPDB 191 code) should be given 2
cylinders and finally your 193 mode disk (the journal disk for
transactions) should be given 5 cylinders of space.
<P>
The final step in placing the server is the setting of an environmental
variable <FN>e.g. using the SETENV command on VM/CMS systems, setting a
global symbol on VAX/VMS systems, or setting a shell variable on Unix
systems</FN> CDSERV which tells HEPDB where your server resides. (It is
recommended that this assignment be part of your standard setup procedure)
The way in which the variable is set varies from platform to platform, a
list of possible commands follows:
<P>
<OL>
<LI>UNIX
   Bourne Shell CDSERV=/hepdb/expdb;export CDSERV
   C Shell setenv CDSERV /hepdb/expdb
   Korn Shell export CDSERV=/hepdb/expdb
<LI>VMS
   CDSERV:==HEPDB:[EXPDB]
<LI>VM
   setenv CDSERV CDEXPDB 191
</UL>
<P>
