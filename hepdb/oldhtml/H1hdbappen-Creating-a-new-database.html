<TITLE>HEPDB -- H1hdbappen-Creating-a-new-database </TITLE>
<P>
<H1><A NAME=H1hdbappen-Creating-a-new-database.html>Creating a new database</A></H1>
<P>
The following example shows how to create a new database file.
<P>
<PRE>
                   <B>Creating a new database file</B>
                                  </PRE>
<P>
<PRE>
      PROGRAM CDEXA1
*     ==============
*
*     Create a new, empty database
*
      PARAMETER   (NWPAW=100000)
      COMMON/PAWC/PAW(NWPAW)
*
*     Initialise Zebra, HBOOK and HEPDB
*
      CALL CDPAW(NWPAW,NHBOOK,IDIV,'USR-DIV',5000,50000,'ZPHU',IRC)
*
*     Unit for database access
*
      LUNCD  = 1
*
*     Database parameters
*
      NPAIR  = 1
      NREC   = 20000
      NTOP   = 1
*
*     Accept default record length (1024 words)
*
      LRECL  = 0
      CALL CDNEW(LUNCD,'HEPDB','HEPDB.DBS',IDIV,NPAIR,NREC,NTOP,
     +           LRECL,' ',IRC)
*
*     Set the log level
*
      CALL CDLOGL(' ',3,'A',IRC)
*
*     Terminate
*
      CALL CDEND(' ','A',IRC)
      END
</PRE>
<P>
The same result can be achieved by running the CDMAKE program, e.g. using
the following script.
<P>
<PRE>
                   <B>Script to run CDMAKE program</B>
                                  </PRE>
<P>
<PRE>
#
# Make a new database
#
# export CDFILE='name of the database file'
  export CDFILE='test.dbs'
# export CDPAIR='number of validity range pairs'
  export CDPAIR=1
# export CDPRE='number of records to be preformatted'
  export CDPRE=100
# export CDTOP='numeric ID for database'
  export CDTOP=1
# export CDQUO='number of records for database quota'
  export CDQUO=65000
# export CDRECL='record length of database file (words)'
  export CDRECL=1024
#
# now run the job
#
  /cern/pro/bin/cdmake
</PRE>
<P>
