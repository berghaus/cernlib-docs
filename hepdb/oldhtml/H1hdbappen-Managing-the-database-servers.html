<TITLE>HEPDB -- H1hdbappen-Managing-the-database-servers </TITLE>
<P>
<H1><A NAME=H1hdbappen-Managing-the-database-servers.html>Managing the database servers</A></H1>
<P>
Once the database file has been created, the server must be configured for
this file. This is done using a <TT>NAMES</TT> file, as follows.
<P>
<PRE>
              <B>Names file entries for a database file</B>
                                  </PRE>
<PRE>
:nick.config
            :list.ge au
            :log./hepdb/cplear/logs
            :queue./hepdb/cplear/queue
            :todo./hepdb/cplear/todo
            :save./hepdb/cplear/save
            :bad./hepdb/cplear/bad
            :logl.3
            :wakeup.60
:nick.ge
            :file./hepdb/cplear/database/geo.dbs
            :servers.geolist
            :desc.Geometry database for the CPLEAR experiment
:nick.au
            :file./hepdb/cplear/database/aux.dbs
            :servers.auxlist
            :desc.Auxiliary database for the CPLEAR experiment
:nick.geolist
            :list.geo1 geo2 geo3
:nick.geo1
            :userid.cdcplear
            :node.hepdb
            :localq./hepdb/l3/todo
:nick.geo2
            :userid.cdcplear
            :node.vxcpon
            :queue.disk$db:[cdcplear.todo]
            :transport.tcpip
            :localq./hepdb/cplear/tovxcpon
:nick.geo3
            :userid.cdcplear
            :node.cernvm
            :queue./hepdb/cplear/tocernvm
            :transport.tcpip
            :localq./hepdb/cplear/tocernvm
</PRE>
<P>
The various tags in the preceding names file have the following meanings.
<P>
<DL>
<DT><TT>CONFIG</TT></DT><DD>Configuration details for the server, as
follows.
<DL>
<DT><TT>LIST</TT></DT><DD>A list of two character database prefixes
<DT><TT>LOG</TT></DT><DD>The directory where the server logs are written
<DT><TT>QUEUE</TT></DT><DD>The directory where new updates are placed by
HEPDB clients
<DT><TT>TODO</TT></DT><DD>The directory scanned by the HEPDB servers for
updates to process. In the case of MASTER servers, the todo and queue
directories are the same. In the case of SLAVE servers, these queues are
different.
<DT><TT>BAD</TT></DT><DD>The directory where the server places bad
updates. Bad updates are files for which the corresponding database cannot
be found, or updates which cannot be successfully processed by the
database server.
<DT><TT>SAVE</TT></DT><DD>The directory where the server saves updates
after processing
<DT><TT>LOGL</TT></DT><DD>The log level for the server
<DT><TT>WAKEUP</TT></DT><DD>The wakeup interval in seconds for the server
</DL>
<DT><TT>prefix</TT></DT><DD>The two character database prefix, e.g.
<TT>a</TT>a.
<DL>
<DT><TT>FILE</TT></DT><DD>The full name of the database file. For VM/CMS
systems, the syntax is <user.address>filename.filetype
<DT><TT>DESC</TT></DT><DD>A comment string identifying the database and/or
its purpose
<DT><TT>SERVERS</TT></DT><DD>The list of remote servers for this database
</DL>
<DT><TT>server</TT></DT><DD>The nickname of the servers, e.g.
<TT>a</TT>a1.
<DL>
<DT><TT>USERID</TT></DT><DD>Userid under which the server runs on the
remote node
<DT><TT>NODE</TT></DT><DD>Node on which the server runs
<DT><TT>QUEUE</TT></DT><DD>Input queue on the remote node
<DT><TT>TRANSPORT</TT></DT><DD>Method by which updates are transmitted
<DT><TT>LOCALQ</TT></DT><DD>The local directory where updates are written
pending transmission to the remote node. This may, in fact, be the same as
<TT>QUEUE</TT>, e.g. when the directory is accessible via NFS or AFS.
</DL>
</DL>
<P>
<H2><A HREF=H2hdbappen-Master-and-slave-database-servers.html>Master and slave database servers</A></H2>
<H2><A HREF=H2hdbappen-Creating-a-new-server-on-CERNVM.html>Creating a new server on CERNVM</A></H2>
<H2><A HREF=H2hdbappen-Creating-a-new-server-on-VXCRNA.html>Creating a new server on VXCRNA</A></H2>
<H2><A HREF=H2hdbappen-Accessing-remote-database-files-over-NFS.html>Accessing remote database files over NFS</A></H2>
<H2><A HREF=H2hdbappen-VMS-systems-running-UCX.html>VMS systems running UCX</A></H2>
<H2><A HREF=H2hdbappen-Setting-up-a-new-server-on-hepdb.html>Setting up a new server on hepdb</A></H2>
