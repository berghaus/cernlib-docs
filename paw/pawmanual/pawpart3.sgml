<?.*****************************************************************>
<?.* PAW   User's Guide - Part 3                                   *>
<?.*  Last Mod.   12 Nov 1989  16.15   mg                          *>
<?.*****************************************************************>
<H1>FORTRAN
<I1 PG=START>FORTRAN
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<P>
<IH1>HELP items
<I2     >FORTRAN
<H3 ID=N205>COMIS
<P>
<IH1>HELP items
<I2     >COMIS
Invoke the COMIS FORTRAN interpreter.
COMIS allows to execute FORTRAN routines without recompiling
and relinking. It communicates
with PAW commands through vectors and functions. COMIS has its
PAW-independent command structure.
Example in command mode:
<XMP>
 PAW > <HP3>Comis</HP3>
 CS > <HP3>   do 10 i=1,10</HP3>
 MND> <HP3>      x=sqrt(i)*10.</HP3>
 MND> <HP3>      print *,i,x</HP3>
 MND> <HP3>10 continue</HP3>
 MND> <HP3>   END</HP3>
 CS > <HP3>quit</HP3>
 PAW >
</XMP>
COMIS code may be inserted into a macro. Example:
<XMP>
 Vector/Create Y(10) r 1 2 3 4 5 6 7 8 9 10
  *
  *  In the following COMIS code, the statement "Vector Y" declares
  *  to COMIS an existing KUIP vector. KUIP dimension is assumed.
  *  The statement "Vector X(10)" creates a new KUIP vector.
  *  (Note that SUBROUTINEs must be declared before the MAIN program)
  *  (KUIP vectors cannot be created into the MAIN program)
  *
  APPLIcation COMIS QUIT
        SUBROUTINE DEMO
        Vector Y
        Vector X(10)
        do 10 i=1,10
           XX=i
           X(i)=Y(i)*sqrt(XX)*10.
    10  CONTINUE
        END
        CALL DEMO
        END
  QUIT
  Vector/print X       | Print KUIP vector created by COMIS
</XMP>
<?.PA>
<H3 ID=N206>CALL  urout
<P>
<IH1>HELP items
<I2     >CALL
<XMP>
UROUT      C 'User routine'
</XMP>
Execute the routine UROUT.
UROUT may be a routine compiled and linked with PAW.
For example : CALL HPRINT(10).
UROUT may also be the name of a file which can be edited interactively
with the command EDIT. For example if file UROUT.FOR contains:
<XMP>
     SUBROUTINE UROUT(N)
     SUM=0.
     DO 10 I=1,N
       SUM=SUM+I
  10 CONTINUE
     PRINT *,SUM
     END
</XMP>
Then one can type CALL UROUT.FOR(10).  The routine UROUT may also
contains references to the library routines mentioned below.
The following routines from the CERN Program Library can be called:
<XMP>
   From HBOOK:
      HBOOK1,HBOOK2,HBOOKN,HFILL,HF1,HPRINT,HDELET,HRESET
      HFITGA,HFITPO,HFITEX,HPROJ1,HPROJ2,HFN
      HROPEN,PAOPEN,PACLOS,PAREAD,PAWRIT
      HBFUN1,HBFUN2,HRNDM1,HRNDM2,HBARX,HBARY
      HPAK,HPAKE,HUNPAK,HGIVE,HGN,HGNF,HGNPAR,HF2,HFF1,HFF2
      HRIN,HROUT,HI,HIE,HIX,HIJ,HIDALL,HNOENT,HX,HXY
      HCOPY,HSTATI,HBPROF,HOPERA,HIDOPT,HDERIV
   From HPLOT:
      HPLOT,HPLSYM,HPLERR,HPLEGO,HPLNT,HPLSUR,HPLSOF
      HPLSET,HPLGIV,HPLOC
   From ZEBRA:
      FZIN,FZOUT,FZFILE,FZENDI,FZENDO
      RZCDIR,RZLDIR,RZFILE,RZEND,RZIN,RZOUT,RZVIN,RZVOUT
   From KUIP:
      KUGETV,KUDPAR,KUVECT,KILEXP,KUTIME
   From HIGZ:
      IPL,IPM,IFA,IGTEXT,IGBOX,IGAXIS,IGPIE,IGRAPH,IGHIST
      IGARC,IGLBL,IGRNG,IGMETA,IGSA,IGSET,IRQLC,IRQST
      ISELNT,ISFAIS,ISFASI,ISLN,ISMK,ISVP,ISWN,ITX,ICLRWK
   From KERNLIB:
      VZERO,UCOPY,RNDM,RANNOR,LENOCC,SBIT0,SBIT1,SBYT
      JBIT,JBYT,UCTOH,UHTOC
 
   The following common blocks may be referenced:
     /PAWC/, /QUEST/, /KCWORK/, /PAWPAR/, /PAWIDN/
</XMP>
<?.PA>
<H3 ID=N207>LOOP  ntimes urout
<P>
<IH1>HELP items
<I2     >LOOP
<XMP>
NTIMES     I 'Number of calls' D=1
UROUT      C 'User routine'
</XMP>
The routine UROUT is called NTIMES times.
See command CALL for explanation of UROUT.
<H3 ID=N208>FILE  lun fname
<P>
<IH1>HELP items
<I2     >FILE
<XMP>
LUN        I 'Logical unit number' R=1:128
FNAME      C 'File name'
</XMP>
Open a FORTRAN formatted text file.
<H3 ID=N209>CLOSE  lun
<P>
<IH1>HELP items
<I2     >CLOSE
<XMP>
LUN        I 'Logical unit number' R=1:128
</XMP>
Close the file on unit LUN.
If the file has been opened with HISTO/FILE, PICTURE/FILE, etc, then
before closing the unit, PAW will close correctly the file with
CALL HREND or FZENDI(O), ICLWK, etc.
<H3 ID=N210>REWIND  lun
<P>
<IH1>HELP items
<I2     >REWIND
<XMP>
LUN        I 'Logical unit number' R=1:128
</XMP>
Rewind the file on unit LUN.
<H3 ID=N211>SIGMA
<P>
<IH1>HELP items
<I2     >SIGMA
Invoke the SIGMA package.
SIGMA is an array manipulation package using its own
vector-oriented language, outside the PAW command conventions.
SIGMA may be invoked in one of the three following ways:
<XMP>
 1- Using the KUIP $SIGMA function. Example:
    PAW > <HP3>Vector/Create x(10) r 1 2 3 4 5 6 7 8 9 10</HP3>
    PAW > <HP3>Graph 10 x $sigma(sqrt(x))</HP3>
<?.sk>
 2- Using the SIGMA command with parameter. Example:
    PAW > <HP3>sigma x=array(10,1#10)</HP3>
    PAW > <HP3>sigma y=sqrt(x)</HP3>
    PAW > <HP3>Graph 10 x y</HP3>
<?.sk>
 3- Using the APPLication command. Example:
    PAW > <HP3>APPLication SIGMA</HP3>
    SIGMA > <HP3>x=array(10,1#10)</HP3>
    SIGMA > <HP3>y=sqrt(x)</HP3>
    SIGMA > <HP3>exit</HP3>
    PAW > <HP3>Graph 10 x y</HP3>
</XMP>
<I1 PG=END  >FORTRAN
<H1>FUNCTION
<I1 PG=START>FUNCTION
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<P>
<IH1>HELP items
<I2     >FUNCTION
<H3 ID=N106>FUN1  id ufunc ncx xmin xmax &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >FUN1
<XMP>
ID         C 'Histogram Identifier'
UFUNC      C 'Name of the function' D='X'
NCX        I 'Number of channels' D=100
XMIN       R 'Low edge' D=0
XMAX       R 'Upper edge' D=100
CHOPT      C 'Options' D='P'
</XMP>
Create a one dimensional histogram and fill the bins with the
values of a (single-valued) function.
The function UFUNC may be given in two ways:
<?.sk>
-An expression of the variable x in case of a simple function.
<XMP>
 Ex: FUN1  10 sin(x)/x  100 0 10
</XMP>
-UFUNC is the name of a COMIS function in a text file with the
name UFUNC.FTN or UFUNC.FOR or UFUNC FORTRAN (Apollo, VAX, IBM).
<?.sk>
If CHOPT='P' the function is drawn.
<H3 ID=N107>FUN2  id ufunc ncx xmin xmax ncy ymin ymax &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >FUN2
<XMP>
ID         C 'Histogram (2-Dim) Identifier'
UFUNC      C 'Name of the function'
NCX        I 'Number of channels in X' D=40
XMIN       R 'Low edge in X' D=0
XMAX       R 'Upper edge in X' D=40
NCY        I 'Number of channels in Y' D=40
YMIN       R 'Low edge in Y' D=0
YMAX       R 'Upper edge in Y' D=40
CHOPT      C 'Options' D='S' R=' ,S,L,C'
</XMP>
Create a two dimensional histogram and fill
the bins with the values of a (two-valued) function.
The function UFUNC may be given in two ways:
<?.sk>
-An expression of the variables x and y in case of a simple function.
<XMP>
 Ex: FUN2  10 abs(sin(x**2+y**2)) 40 -2 2 40 -2 2 C
</XMP>
-UFUNC is the name of a COMIS function in a text file with the
name UFUNC.FTN or UFUNC.FOR or UFUNC FORTRAN (Apollo, VAX, IBM).
<?.sk>
If CHOPT='S' the function is drawn as a surface.
If CHOPT='L' the function is drawn as a lego plot.
If CHOPT='C' the function is drawn as a contour plot.
<?.PA>
<H3 ID=N108>PLOT  ufunc xlow xup &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >PLOT
<XMP>
UFUNC      C 'Name of function'
XLOW       R 'Lower limit'
XUP        R 'Upper limit'
CHOPT      C 'Options' D=' ' R=' ,C,S,+,L,P,*'
</XMP>
Plot single-valued function UFUNC between XLOW and XUP.
The function UFUNC may be given in two ways:
<?.sk>
-An expression of the variable x in case of a simple function.
<XMP>
 Ex: FUN/PLOT   sin(x)/x  0 10
</XMP>
-UFUNC is the name of a COMIS function in a text file with the
name UFUNC.FTN or UFUNC.FOR or UFUNC FORTRAN (Apollo, VAX, IBM).
For example, if the file FTEST.FOR contains:
<XMP>
      FUNCTION FTEST(X)
      FTEST=SIN(X)*EXP(-0.1*X)
      END
</XMP>
Then, FUN/PLOT FTEST.FOR 0 10, will interpret the Fortran
code in the file FTEST.FOR and draw the function for x
between 0 and 10.
<?.sk>
The number of points to evaluate the function between XLOW and XUP
can be changed by the command /FUN/POINTS. Only 1-Dim functions
are supported. For 2-Dim use FUN2.
CHOPT may be a combination of the following characters:
<XMP>
 'C' Draw a smooth curve (default if CHOPT not specified)
 'S' Superimpose plot on top of existing picture.
 '+' Add contents of ID to last plotted histogram.
 'L' Connect channel contents by a line.
 'P' Draw the current polymarker at each channel.
 '*' Draw a * at each channel.
</XMP>
<H3 ID=N109>POINTS  npfunc
<P>
<IH1>HELP items
<I2     >POINTS
<XMP>
NPFUNC     I 'Number of points' D=100
</XMP>
Change the number of points to be used by FUN/PLOT.
<I1 PG=END  >FUNCTION
<H1>GRAPHICS
<I1 PG=START>GRAPHICS
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.PA>
<P>
<IH1>HELP items
<I2     >GRAPHICS
<H3 ID=N123>SET  &lsqb; chatt value &rsqb;
<P>
<IH1>HELP items
<I2     >SET
<XMP>
CHATT      C 'Attribute name' D='SHOW'
VALUE      R 'Attribute value' D=0
</XMP>
Set a specific HPLOT attribute.
If CHATT='SHOW', print defaults and current values for all attributes.
If CHATT='*', restore default values for all attributes.
If VALUE=0, the attribute is set to its default value.
See <TREF REFID=TABSET>.
<H3 ID=N124>OPTION  &lsqb; choptn &rsqb;
<P>
<IH1>HELP items
<I2     >OPTION
<XMP>
CHOPTN     C 'Option name' D='SHOW'
</XMP>
Set general plotting options for HPLOT.
If CHOPTN='SHOW' print all current and default options.
If CHOPTN='*', restore all default options.
See <TREF REFID=TABOPT>.
<H3 ID=N125>METAFILE  &lsqb; lun metafl &rsqb;
<P>
<IH1>HELP items
<I2     >METAFILE
<XMP>
LUN        I 'Logical unit number' D=0
METAFL     I 'Metafile ID' D=4
</XMP>
Set the metafile logical unit and metafile type.
This command controls the destination of the subsequent graphics output.
Example:
<XMP>
 LUN =-10 output only on metafile opened on unit 10;
 LUN =  0 output only on screen;
 LUN = 10 output on both screen and metafile opened on unit 10;
</XMP>
Use the command FORTRAN/FILE to open a new file, FORTRAN/CLOSE to close it.
Note that PAW opens the file PAW.METAFILE on the unit 10
at initialisation time.
<XMP>
 METAFL=   4 Appendix E GKS.
 METAFL=-111 HIGZ/PostScript (Portrait).
 METAFL=-112 HIGZ/PostScript (Landscape).
</XMP>
<H2       >MISC
<P>
<IH1>HELP items
<I2     >MISC
Miscellaneous HPLOT functions.
<H3 ID=N126>NEXT
<P>
<IH1>HELP items
<I2     >NEXT
Clear the screen.
Initialize a new HIGZ picture if option ZFL or ZFL1 has been selected.
Select the Normalization Transformation number 1 (cm).
<H3 ID=N127>CLR
<P>
<IH1>HELP items
<I2     >CLR
Clear the screen.
<H3 ID=N128>LOCATE  &lsqb; ntpri &rsqb;
<P>
<IH1>HELP items
<I2     >LOCATE
<XMP>
NTPRI      I 'Transformation with highest priority' D=-1
</XMP>
Locate a point on the screen using the graphics cursor
and output coordinates on terminal. Several points may be located.
<P>Control is returned when the point is outside picture limits
or when the BREAK (right) mouse button is clicked (or CRTL/E).
The optional parameter NTPRI may be specified to locate
a point in the specific transformation number NTPRI.
NTPRI=-1 (default) means that all the histogram transformation
numbers (10, 20, etc.) have priority on transformation number 1.
<H3 ID=N129>VLOCATE  vecx vecy &lsqb; chopt ntpri &rsqb;
<P>
<IH1>HELP items
<I2     >VLOCATE
<XMP>
VECX       C 'Vector for coordinates X'
VECY       C 'Vector for coordinates Y'
CHOPT      C 'Options' D=' ' R='L,P,*,+,-'
NTPRI      I 'Transformation with highest priority' D=-1
</XMP>
Locate a set of points using the graphics cursor.
Return corresponding coordinates in vectors X and Y.
If vectors X or Y do not exist, they are automatically created.
Control is returned when the point is outside picture limits
or when the BREAK (right) mouse button is clicked (or CRTL/E).
<XMP>
 CHOPT=' ' use the cross-hair
       '+' use the tracking cross
       '-' use the rubber line
       'L' connect points by a polyline
       'P' draw the current polymarker at each point
       '*' draw a * at each point
</XMP>
The optional parameter NTPRI may be specified to locate
a point in the specific transformation number NTPRI (see LOCATE).
<H3 ID=N130>HMOVE
<P>
<IH1>HELP items
<I2     >HMOVE
Change the contents of a histogram channel using the cursor.
Position the cursor to the channel to be changed, trigger graphics input,
position the cursor to the new channel value
(a rubber band box is used to visualize the change), trigger graphics input
to fix the new value.
<H2       >VIEWING
<P>
<IH1>HELP items
<I2     >VIEWING
To define Normalization transformations.
Either automatically (ZONE and SIZE) or 'by hand' (SVP, SWN and SELNT).
<H3 ID=N131>ZONE  &lsqb; nx ny ifirst chopt &rsqb;
<P>
<IH1>HELP items
<I2     >ZONE
<XMP>
NX         I 'Number of divisions along X' D=1
NY         I 'Number of divisions along Y' D=1
IFIRST     I 'First division number' D=1
CHOPT      C 'Option' D=' ' R=' ,S'
</XMP>
Subdivide the picture into NX by NY zones,
starting at zone IFIRST (count along X first).
If CHOPT='S', redefine zones on current picture.
<H3 ID=N132>SIZE  &lsqb; xsize ysize &rsqb;
<P>
<IH1>HELP items
<I2     >SIZE
<XMP>
XSIZE      R 'Size along X' D=20
YSIZE      R 'Size along Y' D=20
</XMP>
Set the size of the picture.
On the terminal, the pictures will have the ratio YSIZE/XSIZE, and,
if a metafile is produced, pictures will be YSIZE by XSIZE cm.
This command sets the parameters for the normalisation transformation
number 1 to &lsqb;0-XSIZE&rsqb;, &lsqb;0-YSIZE&rsqb;.
<H3 ID=N133>SVP  nt x1 x2 y1 y2
<P>
<IH1>HELP items
<I2     >SVP
<XMP>
NT         I 'Normalization transformation number'
X1         R 'Low X  of viewport in NDC' D=0 R=0:1
X2         R 'High X of viewport in NDC' D=1 R=0:1
Y1         R 'Low Y  of viewport in NDC' D=0 R=0:1
Y2         R 'High Y of viewport in NDC' D=1 R=0:1
</XMP>
Set the viewport of the normalization transformation NT
in the Normalized Device Coordinates (NDC).
<H3 ID=N134>SWN  nt x1 x2 y1 y2
<P>
<IH1>HELP items
<I2     >SWN
<XMP>
NT         I 'Normalize transformation number'
X1         R 'Low X  of window in WC' D=0
X2         R 'High X of window in WC' D=20
Y1         R 'Low Y  of window in WC' D=0
Y2         R 'High Y of window in WC' D=20
</XMP>
Set the window of the normalization transformation NT
in World Coordinates (WC).
<H3 ID=N135>SELNT  nt
<P>
<IH1>HELP items
<I2     >SELNT
<XMP>
NT         I 'Normalization transformation number'
</XMP>
Select a normalization transformation number.
<XMP>
  If ZONE 2 2 is active , then:        If ZONE 1 1 is active, then:
 ********************************    *******************************
 *                              *    *                             *
 *  ************   ***********  *    *  *************************  *
 *  *          *   *         *  *    *  *                       *  *
 *  *   NT=10  *   *  NT=20  *  *    *  *                       *  *
 *  *          *   *         *  *    *  *                       *  *
 *  ************   ***********  *    *  *                       *  *
 *                              *    *  *         NT=10         *  *
 *  ************   ***********  *    *  *                       *  *
 *  *          *   *         *  *    *  *                       *  *
 *  *   NT=30  *   *  NT=40  *  *    *  *                       *  *
 *  *          *   *         *  *    *  *                       *  *
 *  ************   ***********  *    *  *                       *  *
 *                              *    *  *************************  *
 *             NT=1             *    *             NT=1            *
 ********************************    *******************************
</XMP>
<H2       >PRIMITIVES
<P>
<IH1>HELP items
<I2     >PRIMITIVES
Call HIGZ drawing primitives
<H3 ID=N136>PLINE  n x y
<P>
<IH1>HELP items
<I2     >PLINE
<XMP>
N          I 'Number of points'
X          C 'Vector name for X coordinates'
Y          C 'Vector name for Y coordinates'
</XMP>
Draw a polyline of N points X,Y
in the current Normalization transformation.
Use commands SLN, SLWSC and SPLCI (or IGSET) to change line attributes.
<H3 ID=N137>LINE  x1 y1 x2 y2
<P>
<IH1>HELP items
<I2     >LINE
<XMP>
X1         R 'X first coordinate'
Y1         R 'Y first coordinate'
X2         R 'X second coordinate'
Y2         R 'Y second coordinate'
</XMP>
Draw a line connecting points (X1,Y1) and (X2,Y2)
in the current Normalization transformation.
Use commands SLN, SLWSC and SPLCI (or IGSET) to change line attributes.
<H3 ID=N138>FAREA  n x y
<P>
<IH1>HELP items
<I2     >FAREA
<XMP>
N          I 'Number of points'
X          C 'Vector name for X coordinates'
Y          C 'Vector name for Y coordinates'
</XMP>
Fill the area defined by the N points X,Y
in the current Normalization transformation.
Use commands SFASI, SFAIS and SFACI (or IGSET) to change fill area attributes.
<H3 ID=N139>PMARKER  n x y
<P>
<IH1>HELP items
<I2     >PMARKER
<XMP>
N          I 'Number of points'
X          C 'Vector name for X coordinates'
Y          C 'Vector name for Y coordinates'
</XMP>
Draw polymarkers at the N points X,Y
in the current Normalization transformation.
Use commands SMK and SPMCI (or IGSET) to change polymarker attributes.
<H3 ID=N140>BOX  x1 x2 y1 y2
<P>
<IH1>HELP items
<I2     >BOX
<XMP>
X1         R 'X coordinate of first corner'
X2         R 'X coordinate of second corner'
Y1         R 'Y coordinate of first corner'
Y2         R 'Y coordinate of second corner'
</XMP>
Draw and fill a box with the current fill area attributes.
Use the current Normalization transformation.
<H3 ID=N141>FBOX  x1 x2 y1 y2 x3 x4 y3 y4
<P>
<IH1>HELP items
<I2     >FBOX
<XMP>
X1         R 'X coord of 1st corner of ext box'
X2         R 'X coord of 2nd corner of ext box'
Y1         R 'Y coord of 1st corner of ext box'
Y2         R 'Y coord of 2nd corner of ext box'
X3         R 'X coord of 1st corner of int box'
X4         R 'X coord of 2nd corner of int box'
Y3         R 'Y coord of 1st corner of int box'
Y4         R 'Y coord of 2nd corner of int box'
</XMP>
Draw and fill a frame (2 nested boxes)
with the current fill area attributes.
Use the current Normalization transformation.
<H3 ID=N142>ARROW  x1 x2 y1 y2 &lsqb; size &rsqb;
<P>
<IH1>HELP items
<I2     >ARROW
<XMP>
X1         R 'X coordinate of start point'
X2         R 'X coordinate of end point'
Y1         R 'Y coordinate of start point'
Y2         R 'Y coordinate of end point'
SIZE       R 'Arrow size' D=0.4
</XMP>
Draw an arrow (X1,Y1) ----> (X2,Y2) if SIZE>0.
Draw an arrow (X1,Y1) <---> (X2,Y2) if SIZE&lt;0.
Use the current Normalization transformation.
<H3 ID=N144>ARC  x1 y1 r1 &lsqb; r2 phimin phimax &rsqb;
<P>
<IH1>HELP items
<I2     >ARC
<XMP>
X1         R 'X coordinate of centre'
Y1         R 'Y coordinate of centre'
R1         R 'Inner radius'
R2         R 'Outer radius' D=-1
PHIMIN     R 'Minimum angle' D=0
PHIMAX     R 'Maximum angle' D=360
</XMP>
Draw an arc of circle
in the current Normalization transformation.
If R1 is not equal to R2 the area between the
two arcs of radius R1 and R2 is
filled according to the current fill area attributes.
The border is never drawn unless the interior style is hollow or
the command IGSET BORD 1 has been called.
If R1 is equal to R2 a polyline is drawn.
<?.PA>
<H3 ID=N143>AXIS  x0 x1 y0 y1 wmin wmax ndiv &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >AXIS
<XMP>
X0         R 'X axis origin in WC'
X1         R 'X end axis in WC'
Y0         R 'Y axis origin in WC'
Y1         R 'Y end axis in WC'
WMIN       R 'Lowest value for labels'
WMAX       R 'Highest value for labels'
NDIV       I 'Number of divisions' D=510
CHOPT      C 'Options' D=' '
</XMP>
Draw an axis in the current Normalization transformation.
<XMP>
        NDIV=N1 + 100*N2 + 10000*N3
        N1, N2 and N3 are the number of 1st, 2nd and 3th level divisions, e.g.
            NDIV=0 --> no tick marks.
            NDIV=2 --> 2 divisions, one tick mark in the middle
                     of the axis.
        CHOPT='G' : loGarithmic scale, default is linear.
        CHOPT='B' : Blank axis. Useful to superpose axis.
  Orientation of tick marks on axis: Tick marks are normally drawn
  on the positive side of the axis.However, if X0=X1, then Negative .
        CHOPT='+': tick marks are drawn on Positive side. (default)
        CHOPT='-': tick marks are drawn on the negative side.
        i.e: '+-' --> tick marks are drawn on both sides of the axis.
        CHOPT='U' : Unlabeled axis, default is labeled.
  Position of labels on axis. Labels are normally drawn on side
  opposite to tick marks.However:
        CHOPT= '='   on Equal side
  Orientation of labels on axis. Labels are normally drawn
  parallel to the axis. However if X0=X1, then Orthogonal. If Y0=Y1, then Parallel
        CHOPT= 'P' : Parallel to the axis
        CHOPT= 'O' : Orthogonal to the axis (Top to Down).
        CHOPT= '0' : Orthogonal to the axis (Down to Top).
  Position of labels on tick marks. Labels are centered on
  tick marks. However , if X0=X1, then they are right adjusted.
        CHOPT='R': labels are Right adjusted on tick mark. (default is centered)
        CHOPT='L': labels are Left adjusted on tick mark.
        CHOPT='C': labels are Centered on tick mark.
        CHOPT='M': In the Middle of the divisions.
  Direction of labels. Default is RIGHT
        CHOPT='Y':   Down
  Format of labels. Blank characters are stripped, and then the
  label is correctly aligned. The dot,if last character of the
  string, is also stripped, unless
        CHOPT='.'     Dot obligatory
  In the following, we have some parameters, like
  tick marks length and characters height (in percentage
  of the length of the axis).The default values are as follows:
     Primary tick marks: 3.0 %
     Secondary tick marks: 1.5 %
     Third order tick marks: .75 %
     Characters height for labels: 2%
     Characters spacing (related to height): 40%
     Labels offset: 4.0 %
  Type of labels. Labels are normally numeric . However, alphanumeric
  labels can be drawn (see command LABEL).
        CHOPT='T':   Alphanumeric labels .
  Intrinsic parameters.
        CHOPT='S': Tick marks Size
        CHOPT='H': Labels Height
        CHOPT='D': Distance labels-axis
  Axis bining optimization. By default the axis bining is optimized .
        CHOPT='N': No bining optimization
        CHOPT='I': Integer labelling
</XMP>
<H3 ID=N145>PIE  x0 y0 radius n values &lsqb; chopt iao ias iac &rsqb;
<P>
<IH1>HELP items
<I2     >PIE
<XMP>
X0         R 'X coordinate of centre of the pie'
Y0         R 'Y coordinate of centre of the pie'
RADIUS     R 'Radius of the pie chart'
N          I 'Number of values'
VALUES     C 'Vector name for N values'
CHOPT      C 'Options' D=' ' R=' ,P,N,L'
IAO        C 'Name of vector with offsets' D=' '
IAS        C 'Name of vector with styles' D=' '
IAC        C 'Name of vector with colors' D=' '
</XMP>
Draw a pie chart
in the current Normalization transformation.
<XMP>
 CHOPT Character variable specifying the option:
   'P' Labels of each slice will be in percentage.
   'N' Labels of each slice will be the numeric value in VALUES.
   'L' Labels of each slice will be the text given in command LABEL.
</XMP>
<H3 ID=N146>TEXT  x y text size &lsqb; angle chopt &rsqb;
<P>
<IH1>HELP items
<I2     >TEXT
<XMP>
X          R 'X coordinate'
Y          R 'Y coordinate'
TEXT       C 'Text to be drawn'
SIZE       R 'Text size' D=0.3
ANGLE      R 'Comment angle' D=0
CHOPT      C 'Justification option' D='L' R=' ,L,C,R'
</XMP>
Draw text at position X,Y in the current normalization
transformation using the software font IGTEXT.
SIZE is always given in centimeters (as defined by the command SIZE).
Boldface effects can
be obtained using the parameters PASS and CSHI of the command SET.
<XMP>
 CHOPT='L' Text is Left justified.
 CHOPT='C' Text is Centered.
 CHOPT='R' Text is Right justified.
</XMP>
The text color can be changed by IGSET TXCI.
<H3 ID=N147>ITX  x y text
<P>
<IH1>HELP items
<I2     >ITX
<XMP>
X          R 'X coordinate'
Y          R 'Y coordinate'
TEXT       C 'Text to be drawn'
</XMP>
Draw text at position X,Y
in the current Normalization transformation,
using the current font parameters.
The font and the precision can be changed by IGSET TXFP.
The character size can be changed by IGSET CHHE.
The text color can be changed by IGSET TXCI.
The text orientation can be changed with IGSET TXAL.
The text angle can be changed by IGSET TANG.
<H3 ID=N148>LABELS  labnum nlabs chlabs
<P>
<IH1>HELP items
<I2     >LABELS
<XMP>
LABNUM     I 'Label identifier' D=1 R=1:9
NLABS      I 'Number of labels' D=0 R=0:50
CHLABS     C 'List of labels' D=' '
</XMP>
Define a list of labels to be used by subsequent commands
such as PIE and AXIS.
The position of the labels on the axis may be changed with SET NDVX (NDVY).
<?.PA>
<H3 ID=N150>HIST  n x y &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >HIST
<XMP>
N          I 'Number of values'
X          C 'Vector name for X coordinates'
Y          C 'Vector name for Y coordinates'
CHOPT      C 'Options' D='AHW' R=' ,W,R,N,H,F,C,L,*,P,B,A'
</XMP>
Draw an histogram defined by arrays X and Y.
The number of components
needed in vectors X and/or in Y may be dependent upon the value of CHOPT
(see options 'R' and 'N').
<XMP>
 CHOPT:
 'A'  X and Y axes are drawn (default).
 'H'  An histogram is drawn as a contour (default).
 'W'  The Window/Viewport parameters are automatically computed
      from the X and Y values (default).
 'R'  The histogram is Rotated, i.e. the values in X are used
      for the ordinate and the values in Y for the abscissa
      (default is the contrary).
      If option R is selected (and option 'N' is not selected),
      the user must give:
         2 values for Y (Y(1)=YMIN and Y(2)=YMAX)
         N values for X, one for each bin.
      Otherwise the user must give:
         N values for Y, one for each bin.
         2 values for X (X(1)=XMIN and X(2)=XMAX)
      If option 'N' is selected see below.
 'N'  Non equidistant bins (default is equidistant).
      The arrays X and Y must be dimensioned as follows:
      If option R is not selected (default) then give:
         (N+1) values for X (limits of bins).
         N values for Y, one for each bin.
      Otherwise give:
         (N+1) values for Y (limits of bins).
         N values for X, one for each bin.
 'F'  The area delimited by the histogram is filled according
      to the fill area interior style and the fill area style
      index or colour index.
      Contour is not drawn unless CHOPT='H' is also selected.
 'C'  A Smooth curve is drawn across points at the centre of
      each bin of the histogram.
 'L'  A straight Line is drawn across points at the centre of
      each bin of the histogram.
 '*'  A star is plotted at the center of each bin of the
      histogram.
 'P'  Idem as '*' but with the current marker.
 'B'  A Bar chart with equidistant bins is drawn as fill areas.
      (Contours are drawn). The bar origin and the bar
      width can be controlled by the routine IGSET using the
      options BARO and BARW respectively.
 'GX' Log scale along X.
 'GY' Log scale along Y.
</XMP>
<?.PA>
<H3 ID=N151>GRAPH  n x y &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >GRAPH
<XMP>
N          I 'Number of values'
X          C 'Vector name for X coordinates'
Y          C 'Vector name for Y coordinates'
CHOPT      C 'Options' D='ALW' R=' ,W,L,C,A,*,P,R,B'
</XMP>
Draw a curve through a set of points.
<XMP>
 'A'  X and Y axes are drawn (default).
 'L'  Every point is connected with a straight line. (default)
 'W'  The Window/Viewport parameters are automatically computed
      from the X and Y values (default).
 'C'  The values in Y are plotted in the form of a smooth curve.
      A Spline approximation algorithm is used.
 'R'  The graph is Rotated, i.e. the values in X are used
      for the ordinate and the values in Y for the abscissa
      (default is the contrary).
 'B'  A Bar chart with equidistant bins is drawn as fill areas.
      (Contours are drawn). The bar origin and the bar
      width can be controlled by the routine IGSET using the
      options BARO and BARW respectively.
 '*'  A star is plotted at every point.
 'P'  A marker is plotted at every point,
      according to current marker type and polymarker colour index.
 'GX' Log scale along X.
 'GY' Log scale along Y.
</XMP>
<H3 ID=N149>PAVE  x1 x2 y1 y2 &lsqb; dz isbox isfram chopt &rsqb;
<P>
<IH1>HELP items
<I2     >PAVE
<XMP>
X1         R 'X bottom left corner of box'
X2         R 'X top right corner of box'
Y1         R 'Y bottom left corner of box'
Y2         R 'Y top right corner of box'
DZ         R 'Box width' D=0.4
ISBOX      I 'Box style' D=0
ISFRAM     I 'Frame style' D=5
CHOPT      C 'Option' D='TR'
</XMP>
Draw a paving-block (box with 3D effect).
ISBOX (ISFRAM) may be 1000+ICOLOR where ICOLOR is the color index
of the box (frame), otherwise the style index.
If ISBOX (ISFRAM) =0, only the box contour is drawn with the current
polyline attributes.
<XMP>
 CHOPT='TR' (or just 'T') Top and Right frame are drawn (default)
 CHOPT='TL' Top and Left frame
 CHOPT='BR' (or just 'B') Bottom and Right frame
 CHOPT='BL' Bottom and Left frame
 CHOPT='L' Left frame only
 CHOPT='R' Right frame only
 CHOPT='T-' Top frame only pointing left
 CHOPT='B-' Bottom frame only pointing left
 CHOPT='S' Shadow mode
 CHOPT='K' Key mode
</XMP>
<?.PA>
<H2       >ATTRIBUTES
<P>
<IH1>HELP items
<I2     >ATTRIBUTES
<H3 ID=N152>SLN  &lsqb; iln &rsqb;
<P>
<IH1>HELP items
<I2     >SLN
<XMP>
ILN        I 'Line style' D=1 R=1:
</XMP>
Set the line style.
<H3 ID=N153>SFAIS  &lsqb; ints &rsqb;
<P>
<IH1>HELP items
<I2     >SFAIS
<XMP>
INTS       I 'Fill area interior style' D=0 R=0:3
</XMP>
Set the fill area interior style : Hollow=0, Solid=1, Pattern=2, Hatch=3.
<H3 ID=N154>SFASI  &lsqb; styli &rsqb;
<P>
<IH1>HELP items
<I2     >SFASI
<XMP>
STYLI      I 'Fill area style index' D=1
</XMP>
Set the fill area style index.
<H3 ID=N155>SFACI  &lsqb; ifaci &rsqb;
<P>
<IH1>HELP items
<I2     >SFACI
<XMP>
IFACI      I 'Fill area color index' D=1
</XMP>
Set the fill area color index.
<H3 ID=N156>SPLCI  &lsqb; iplci &rsqb;
<P>
<IH1>HELP items
<I2     >SPLCI
<XMP>
IPLCI      I 'Polyline color index' D=1
</XMP>
Set the polyline color index.
<H3 ID=N157>SPMCI  &lsqb; ipmci &rsqb;
<P>
<IH1>HELP items
<I2     >SPMCI
<XMP>
IPMCI      I 'Polymarker color index' D=1
</XMP>
Set the polymarker color index.
<H3 ID=N158>STXCI  &lsqb; itxci &rsqb;
<P>
<IH1>HELP items
<I2     >STXCI
<XMP>
ITXCI      I 'Text color index' D=1
</XMP>
Set the text color index.
<H3 ID=N159>STXFP  &lsqb; ifont iprec &rsqb;
<P>
<IH1>HELP items
<I2     >STXFP
<XMP>
IFONT      I 'Font number' D=0
IPREC      I 'Font precision' D=2
</XMP>
Set text font and precision.
<H3 ID=N160>SCHH  &lsqb; chh &rsqb;
<P>
<IH1>HELP items
<I2     >SCHH
<XMP>
CHH        R 'Character height' D=0.28
</XMP>
Set the character height.
<H3 ID=N161>SLWSC  &lsqb; lw &rsqb;
<P>
<IH1>HELP items
<I2     >SLWSC
<XMP>
LW         I 'Line width' D=1 R=1:
</XMP>
Set the line width.
<H3 ID=N162>SMK  &lsqb; mkt &rsqb;
<P>
<IH1>HELP items
<I2     >SMK
<XMP>
MKT        I 'Marker type' D=1
</XMP>
Set the marker type.
<?.PA>
<H2       >HPLOT
<P>
<IH1>HELP items
<I2     >HPLOT
Draw various HPLOT objects (symbols, errors, key, etc.).
<H3 ID=N163>SYMBOLS  x y n &lsqb; isymb ssize &rsqb;
<P>
<IH1>HELP items
<I2     >SYMBOLS
<XMP>
X          C 'Vector of X coordinates'
Y          C 'Vector of Y coordinates'
N          I 'Number of points' D=1
ISYMB      I 'Symbol number' D=850
SSIZE      R 'Symbol size' D=0.28
</XMP>
Draw the same symbol at several points x,y
in the current normalization transformation.
<H3 ID=N164>ERRORS  x y ex ey n &lsqb; isymb ssize &rsqb;
<P>
<IH1>HELP items
<I2     >ERRORS
<XMP>
X          C 'Vector of X coordinates'
Y          C 'Vector of Y coordinates'
EX         C 'Vector of X error bars'
EY         C 'Vector of Y error bars'
N          I 'Number of points' D=1
ISYMB      I 'Symbol number' D=850
SSIZE      R 'Symbol size' D=0.28
</XMP>
Draw a series of points using a symbol and error bars
in horizontal and vertical direction in the current
normalization transformation.
<H3 ID=N165>KEY  x y &lsqb; isymb text &rsqb;
<P>
<IH1>HELP items
<I2     >KEY
<XMP>
X          R 'X coordinate of comment'
Y          R 'Y coordinate of comment'
ISYMB      I 'Symbol number' D=850
TEXT       C 'Legend' D=' '
</XMP>
Draw one symbol and its explanation (legend) at a point x,y
in the current normalization transformation.
<H3 ID=N166>TICKS  &lsqb; chopt xval yval &rsqb;
<P>
<IH1>HELP items
<I2     >TICKS
<XMP>
CHOPT      C 'Options' D=' '
XVAL       R 'X position' D=9999
YVAL       R 'Y position' D=9999
</XMP>
Draw 'cross-wires' on a picture,
optionally with tick marks and values.
Cross-wires are lines perpendicular to the X and/or Y axis.
<XMP>
 CHOPT is a string to denote which cross-wires to draw,
       and where to draw the values:
 ' '   tick marks are drawn on the edges of the picture
 'X'   cross-wire drawn perpendicular to the X-axis
 'Y'   cross-wire drawn perpendicular to the Y-axis
 'A'   value drawn Above cross-wire
 'B'   value drawn Below cross-wire
 'L'   value drawn Left of cross-wire
 'R'   value drawn Right of cross-wire
<?.sk>
 XVAL intersection on the X-axis
 YVAL intersection on the Y-axis
</XMP>
The values of XVAL are always histogram coordinates.
The tick marks will be drawn on both side of the cross
wire, unless the cross-wires are requested on the boundary
of the box surrounding the histogram (i.e. at the extreme
limits of the drawn histogram). In this case tick marks will
only be drawn inside the box.
The options 'A' and 'B' (for Above and Below)
refer only to the cross-wire perpendicular to the Y axis.
In each case only one cross-wire will be drawn.
Similarly 'L' and 'R' (Left and Right) refer only
to the cross-wires perpendicular to the X-axis.
It is possible to redefine the length of tick marks on the X or Y
axis with SET XTIC or SET YTIC.
The position of the axis values may be changed
with SET XVAL or SET YVAL.
<H3 ID=N167>ATITLE  &lsqb; xtit ytit &rsqb;
<P>
<IH1>HELP items
<I2     >ATITLE
<XMP>
XTIT       C 'X Axis title' D=' '
YTIT       C 'Y Axis title' D=' '
</XMP>
Draw axis titles on the axes of the present plot zone.
<H3 ID=N168>GRID
<P>
<IH1>HELP items
<I2     >GRID
Draw a grid in cm.
<H3 ID=N169>NULL  &lsqb; xmin xmax ymin ymax chopt &rsqb;
<P>
<IH1>HELP items
<I2     >NULL
<XMP>
XMIN       R 'Low range in X' D=0
XMAX       R 'High range in X' D=1
YMIN       R 'Low range in Y' D=0
YMAX       R 'High range in Y' D=1
CHOPT      C 'Options' D=' ' R=' ,S,A'
</XMP>
Draw a frame box only.
If XMIN, XMAX, etc. are given, draw a frame box with the window
coordinates set to XMIN, XMAX, YMIN, YMAX. Axis labels and tick marks
are drawn by default.
If option 'S' is also specified, this command is a convenient way
to redefine the scale for the current zone.
If the option 'A' is given then axis labels and tick marks are not drawn.
<I1 PG=END  >GRAPHICS
<H1>HISTOGRAM
<I1 PG=START>HISTOGRAM
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<?.PA>
<P>
<IH1>HELP items
<I2     >HISTOGRAM
<H3 ID=N051>FILE  lun fname &lsqb; lrecl chopt &rsqb;
<P>
<IH1>HELP items
<I2     >FILE
<XMP>
LUN        I 'Logical unit number' R=1:128
FNAME      C 'File name'
LRECL      I 'Record length in words' D=1024
CHOPT      C 'Options' D=' ' R=' ,N,U'
</XMP>
Open an HBOOK direct access file.
<XMP>
 For CHOPT=' ', existing file is opened (read mode only).
 For CHOPT='N', a new file is opened.
 For CHOPT='U', existing file is opened to be modified.
</XMP>
<H3 ID=N052>LIST  &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >LIST
<XMP>
CHOPT      C 'Options' D=' ' R=' ,I'
</XMP>
List histograms and Ntuples in the current directory.
If CHOPT='I' a verbose format is used (HINDEX).
<H3 ID=N053>DELETE  id
<P>
<IH1>HELP items
<I2     >DELETE
<XMP>
ID         C 'Histogram Identifier'
</XMP>
Delete histogram/Ntuple ID in Current Directory (memory).
If ID=0 delete all histograms and Ntuples.
To delete histograms in disk files use command HIO/HSCRATCH.
<H3 ID=N054>PLOT  &lsqb; id chopt &rsqb;
<P>
<IH1>HELP items
<I2     >PLOT
<XMP>
ID         C 'Histogram Identifier'
CHOPT      C 'Options' D=' ' R=' ,C,S,+,B,L,P,*,K,U,E,A'
</XMP>
Plot a single histogram or a 2-Dim projection.
Each plotted histogram will start
either a new picture or a new zone in the current picture.
A channel range may be specified for 1-Dim and 2-Dim histograms.
Ex: Histo/plot 10(25:64) or Histo/plot 20(4:18,5:10).
CHOPT may be a combination of the following characters:
<XMP>
 'C' Draw a smooth curve.
 'S' Superimpose plot on top of existing picture.
 '+' Add contents of ID to last plotted histogram.
 'B' Select Bar chart format.
 'L' Connect channels contents by a line.
 'P' Draw the current polymarker at each channel or cell.
 '*' Draw a * at each channel.
 'K' must be given if option 'U' is given later.
 'U' Update channels modified since last call.
 'E' Draw error bars and current marker.
 'A' Axis labels and tick marks are not drawn.
 'BOX'  draw 2-Dim with proportional boxes.
 'COL'  draw 2-Dim with a color table.
 'SURF' draw 2-Dim as a surface plot (angles are 30,30).
 'LEGO' draw 2-Dim as a lego plot (angles are 30,30).
 'CONT' draw 2-Dim as a contour plot (15 levels).
 'TEXT' draw 2-Dim as a table.
 'CHAR' draw 2-Dim with characters (a la HBOOK).
 'HIST' draw only histogram (not the associated function).
 'FUNC' draw only the associated function (not the histogram).
</XMP>
When option 'E' is used, the marker type can be changed with SMK,
the marker size with SET KSIZ, the marker color with SPMCI.
To plot projection X of ID type
<XMP>
   HI/PLOT ID.PROX
</XMP>
To plot band 1 in Y of ID type
<XMP>
   HI/PLOT ID.BANY.1
</XMP>
To plot slice 3 in Y of ID type
<XMP>
   HI/PLOT ID.SLIY.3
</XMP>
<H3 ID=N055>ZOOM  &lsqb; id chopt icmin icmax &rsqb;
<P>
<IH1>HELP items
<I2     >ZOOM
<XMP>
ID         C 'Histogram Identifier'
CHOPT      C 'Options' D=' ' R=' ,C,S,+,B,L,P,*'
ICMIN      I 'First channel' D=1
ICMAX      I 'Last channel' D=9999
</XMP>
Plot a single histogram between channels ICMIN and ICMAX.
Each plotted histogram will start
either a new picture or a new zone in the current picture.
If no parameters are given to the command, then the system waits
for two points using the graphics cursor. To quit ZOOM, click
the right button of the mouse or CRTL/E.
CHOPT may be a combination of the following characters:
<XMP>
 'C' Draw a smooth curve.
 'S' Superimpose plot on top of existing picture.
 '+' Add contents of ID to last plotted histogram.
 'B' Select Bar chart format.
 'L' Connect channels contents by a line.
 'P' Draw the current polymarker at each channel.
 '*' Draw a * at each channel.
</XMP>
<H3 ID=N056>MANY_PLOTS  idlist
<P>
<IH1>HELP items
<I2     >MANY_PLOTS
<XMP>
IDLIST     C 'List of histogram Identifiers'
</XMP>
Plot one or several histograms into the same plot.
Plotted histograms are superimposed on the same zone
of the picture.
<H3 ID=N057>PROJECT  id
<P>
<IH1>HELP items
<I2     >PROJECT
<XMP>
ID         C 'Histogram Identifier'
</XMP>
Fill all booked projections of a 2-Dim histogram.
Filling is done using the 2-D contents of ID.
<H3 ID=N058>COPY  id1 id2 &lsqb; title &rsqb;
<P>
<IH1>HELP items
<I2     >COPY
<XMP>
ID1        C 'First histogram Identifier'
ID2        C 'Second histogram Identifier'
TITLE      C 'New title' D=' '
</XMP>
Copy a histogram (not Ntuple) onto another one.
Bin definition, contents, errors, etc. are preserved.
If TITLE is not given, ID2 has the same title as ID1.
<?.PA>
<H3 ID=N059>FIT  id func &lsqb; chopt np par step pmin pmax errpar &rsqb;
<P>
<IH1>HELP items
<I2     >FIT
<XMP SCALE=0.9>
ID         C 'Histogram Identifier'
FUNC       C 'Function name' D=' '
CHOPT      C 'Options' D=' ' R=' ,0,N,Q,V,B,L,D,W,M'
NP         I 'Number of parameters' D=0 R=0:34
PAR        C 'Vector of parameters'
STEP       C 'Vector of steps size'
PMIN       C 'Vector of lower bounds'
PMAX       C 'Vector of upper bounds'
ERRPAR     C 'Vector of errors on parameters'
</XMP>
Fit a user defined (and parameter dependent) function
to a histogram ID (1-Dim or 2-Dim) in the specified range.
FUNC may be:
<XMP SCALE=0.9>
 A- The name of a file which contains the user defined
    function to be minimized. Function name and file name
    must be the same. For example file FUNC.FOR is:
      FUNCTION FUNC(X)   or FUNC(X,Y) for a 2-Dim histogram
      COMMON/PAWPAR/PAR(2)
      FUNC=PAR(1)*X +PAR(2)*EXP(-X)
      END
     Ex: His/fit 10 func.for ! 5 par
<?.sk>
 B- One of the following keywords (1-Dim only):
    G : to fit Func=par(1)*exp(-0.5*((x-par(2))/par(3))**2)
    E : to fit Func=exp(par(1)+par(2)*x)
    Pn: to fit Func=par(1)+par(2)*x+par(3)*x**2......+par(n+1)*x**n
     Ex: His/fit 10 g
<?.sk>
 C- A combination of the keywords in B with the 2 operators + or *.
    Ex: His/Fit 10 p4+g ! 8 par
        His/Fit 10 p2*g+g ! 9 par
      Note that in this case, the order of parameters in PAR must
      correspond to the order of the basic functions.
      For example, in the first case above, par(1:5) apply to
      the polynomial of degree 4 and par(6:8) to the gaussian while
      in the second case par(1:3) apply to the polynomial of degree 2,
      par(4:6) to the first gaussian and par(7:9) to the second gaussian..
      Blanks are not allowed in the expression.
</XMP>
For cases A and C, before the execution of this command, the vector PAR
must be filled (via Vector/Input) with the initial values.
For case B, if NP is set to 0, then the initial values of PAR
will be calculated automatically.
After the fit, the vector PAR contains the new values
of parameters. If the vector ERRPAR is given, it will contain
the errors on the fitted parameters.
A bin range may be specified with ID.
<XMP SCALE=0.9>
  Ex. Histo/Fit 10(25:56).
</XMP>
CHOPT : Possible options '0NQVBLDWM' + HPLOT options
<XMP SCALE=0.9>
   '0'  Do not plot the result of the fit. By default the fitted
        function is drawn unless the option 'N' below is specified.
   'N'  Do not store the result of the fit bin by bin with the histogram.
        By default the function is calculated at the centre of each bin
        and the fit results stored with the histogram data structure.
   'Q'  Quiet mode. No print
   'V'  Verbose mode. Results after each iteration are printed
        By default only final results are printed.
   'B'  Some or all parameters are bounded. The vectors STEP,PMIN,PMAX
        must be specified.
        Default is: All parameters vary freely.
   'L'  Use Log Likelihood.
        Default is chisquare method.
   'D'  The user is assumed to compute derivatives analytically
        using the routine HDERIV.
        By default, derivatives are computed numerically.
   'W'  Sets weights equal to 1. Default weights taken from
        the square root of the contents or from HPAKE/HBARX (PUT/ERRORS).
   'M'  The interactive Minuit is invoked.
</XMP>
<?.PA>
<H2       >2D_PLOT
<P>
<IH1>HELP items
<I2     >2D_PLOT
Plotting of 2-Dim histograms in various formats.
<H3 ID=N060>LEGO  &lsqb; id theta phi &rsqb;
<P>
<IH1>HELP items
<I2     >LEGO
<XMP>
ID         C 'Histogram Identifier'
THETA      R 'Angle THETA in degrees' D=30 R=0:90
PHI        R 'Angle PHI in degrees' D=30 R=0:90
</XMP>
Draw a lego plot (Manhattan plot) from a 2-Dim histogram.
<H3 ID=N061>SURFACE  &lsqb; id theta phi &rsqb;
<P>
<IH1>HELP items
<I2     >SURFACE
<XMP>
ID         C 'Histogram Identifier'
THETA      R 'Angle THETA in degrees' D=30 R=0:90
PHI        R 'Angle PHI in degrees' D=30 R=0:90
</XMP>
Draw a surface plot from a 2-Dim histogram.
<H3 ID=N062>CONTOUR  &lsqb; id nlevel iflag &rsqb;
<P>
<IH1>HELP items
<I2     >CONTOUR
<XMP>
ID         C 'Histogram Identifier'
NLEVEL     I 'Number of contour lines' D=10
IFLAG      I 'Rendering flag' D=1
</XMP>
Draw a contour plot from a 2-Dim histogram.
<XMP>
 IFLAG = 0 - use colour to distinguish contours
       = 1 - use line style to distinguish contours
       = 2 - line style and colour are the same for all contours
</XMP>
<H2       >CREATE
<P>
<IH1>HELP items
<I2     >CREATE
Creation ("booking") of HBOOK objects in memory.
<H3 ID=N063>1DHISTO  id title ncx xmin xmax &lsqb; valmax &rsqb;
<P>
<IH1>HELP items
<I2     >1DHISTO
<XMP>
ID         C 'Histogram Identifier'
TITLE      C 'Histogram title' D=' '
NCX        I 'Number of channels' D=100
XMIN       R 'Low edge' D=0
XMAX       R 'Upper edge' D=100
VALMAX     R 'Maximum bin content' D=0
</XMP>
Create a one dimensional histogram.
The contents are set to zero.
If VALMAX=0, then a full word is allocated per channel, else VALMAX
is used as the maximum bin content allowing several channels to be
stored into the same machine word.
<H3 ID=N064>PROFILE  id title ncx xmin xmax ymin ymax &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >PROFILE
<XMP>
ID         C 'Histogram Identifier'
TITLE      C 'Histogram title' D=' '
NCX        I 'Number of channels' D=100
XMIN       R 'Low edge in X' D=0
XMAX       R 'Upper edge in X' D=100
YMIN       R 'Low edge in Y' D=-0.1E+31
YMAX       R 'Upper edge in Y' D=0.1E+31
CHOPT      C 'Options' D=' ' R=' ,S'
</XMP>
Create a profile histogram.
Profile histograms
accumulate statistical quantities of a variable y
in bins of a variable x.
The contents are set to zero.
<?.PA>
<H3 ID=N065>BINS  id title ncx xbins &lsqb; valmax &rsqb;
<P>
<IH1>HELP items
<I2     >BINS
<XMP>
ID         C 'Histogram Identifier'
TITLE      C 'Histogram title' D=' '
NCX        I 'Number of channels' D=100
XBINS      C 'Vector of NCX+1 low-edges'
VALMAX     R 'Maximum bin content' D=0
</XMP>
Create a histogram with variable size bins.
The low-edge of each bin is given in vector XBINS (NCX+1) values.
The contents are set to zero. See 1DHISTO for VALMAX.
<H3 ID=N066>2DHISTO  id title ncx xmin xmax ncy ymin ymax &lsqb; valmax &rsqb;
<P>
<IH1>HELP items
<I2     >2DHISTO
<XMP>
ID         C 'Histogram Identifier'
TITLE      C 'Histogram title' D=' '
NCX        I 'Number of channels in X' D=40
XMIN       R 'Low edge in X' D=0
XMAX       R 'Upper edge in X' D=40
NCY        I 'Number of channels in Y' D=40
YMIN       R 'Low edge in Y' D=0
YMAX       R 'Upper edge in Y' D=40
VALMAX     R 'Maximum bin content' D=0
</XMP>
Create a two dimensional histogram.
The contents are set to zero. See 1DHISTO for VALMAX.
<H3 ID=N067>PROX  id
<P>
<IH1>HELP items
<I2     >PROX
<XMP>
ID         C 'Histogram (2-Dim) Identifier'
</XMP>
Create the projection onto the x axis.
The projection may be filled with Histo/Project.
<H3 ID=N068>PROY  id
<P>
<IH1>HELP items
<I2     >PROY
<XMP>
ID         C 'Histogram (2-Dim) Identifier'
</XMP>
Create the projection onto the y axis.
The projection may be filled with Histo/Project.
<H3 ID=N069>SLIX  id nslices
<P>
<IH1>HELP items
<I2     >SLIX
<XMP>
ID         C 'Histogram (2-Dim) Identifier'
NSLICE     I 'Number of slices'
</XMP>
Create projections onto the x axis, in y-slices.
The projection may be filled with Histo/Project.
<H3 ID=N070>SLIY  id nslices
<P>
<IH1>HELP items
<I2     >SLIY
<XMP>
ID         C 'Histogram (2-Dim) Identifier'
NSLICE     I 'Number of slices'
</XMP>
Create projections onto the y axis, in x-slices.
The projection may be filled with Histo/Project.
<H3 ID=N071>BANX  id ymin ymax
<P>
<IH1>HELP items
<I2     >BANX
<XMP>
ID         C 'Histogram (2-Dim) Identifier'
YMIN       R 'Low edge in Y'
YMAX       R 'Upper edge in Y'
</XMP>
Create a projection onto the x axis, in a band of y.
The projection may be filled with Histo/Project.
<H3 ID=N072>BANY  id xmin xmax
<P>
<IH1>HELP items
<I2     >BANY
<XMP>
ID         C 'Histogram (2-Dim) Identifier'
XMIN       R 'Low edge in X'
XMAX       R 'Upper edge in X'
</XMP>
Create a projection onto the y axis, in a band of x.
The projection may be filled with Histo/Project.
<H3 ID=N073>TITLE_GLOBAL  &lsqb; chtitl &rsqb;
<P>
<IH1>HELP items
<I2     >TITLE_GLOBAL
<XMP>
CHTITL     C 'Global title' D=' '
</XMP>
Set the global title.
The global title is plotted at the top of each picture.
The size and the Y position of the global title may be changed
by the commands SET GSIZ and SET YGTI respectively.
<H2       >HIO
<P>
<IH1>HELP items
<I2     >HIO
Input/Output operations of histograms.
<H3 ID=N074>HRIN  id &lsqb; icycle iofset &rsqb;
<P>
<IH1>HELP items
<I2     >HRIN
<XMP>
ID         C 'Histogram Identifier'
ICYCLE     I 'Cycle number' D=999
IOFSET     I 'Offset' D=0
</XMP>
Read histogram/Ntuple ID from the current directory
on direct access file to memory.
An identical histogram is created but with an ID equal to that
of the original histogram plus the offset IOFSET.
Identifier may be '0' or '*' (for all histograms).
If ICYCLE > 1000 and ID=0 read all histograms in all subdirectories as well.
If IOFSET = 99999 then the contents of histogram ID on the disk file
are added to the current histogram in memory if it exists. For example
to add all histograms from FILE1 and FILE2 in memory, the sequence
of commands can be:
<XMP>
 PAW > Histo/File 1 FILE1
 PAW > Hrin 0
 PAW > Histo/File 2 FILE2
 PAW > Hrin 0 ! 99999
</XMP>
<H3 ID=N075>HROUT  id &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >HROUT
<XMP>
ID         C 'Histogram Identifier'
CHOPT      C 'Options' D=' ' R=' ,T'
</XMP>
Write histo/Ntuple ID from memory to current directory.
Identifier may be '0' or '*' (for all histograms).
If CHOPT='T' writes all histograms in subdirectories as well.
<H3 ID=N076>HSCRATCH  id
<P>
<IH1>HELP items
<I2     >HSCRATCH
<XMP>
ID         C 'Histogram Identifier'
</XMP>
Delete histogram ID in Current Directory on disk.
If ID='0' or '*' delete all histograms.
To delete histograms in memory use command HISTO/DELETE.
<H3 ID=N077>HFETCH  id fname
<P>
<IH1>HELP items
<I2     >HFETCH
<XMP>
ID         C 'Histogram Identifier'
FNAME      C 'File name'
</XMP>
Fetch histogram ID from file FNAME.
FNAME has been created by the old version of HBOOK3 (Unformatted).
<H3 ID=N078>HREAD  id fname
<P>
<IH1>HELP items
<I2     >HREAD
<XMP>
ID         C 'Histogram Identifier'
FNAME      C 'File name'
</XMP>
Read histogram ID from file FNAME.
FNAME has been created by the old version of HBOOK3 (Formatted).
<H3 ID=N079>PRINT  id &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >PRINT
<XMP>
ID         C 'Histogram Identifier'
CHOPT      C 'Options' D=' ' R=' ,S'
</XMP>
Print histograms (line-printer format) on screen.
The command OUTPUT_LP may be used to change the output file.
If CHOPT='S', then only statistics (Number of entries, mean, RMS,
underflow, overflow) are printed.
<H3 ID=N080>DUMP  id
<P>
<IH1>HELP items
<I2     >DUMP
<XMP>
ID         C 'Histogram Identifier'
</XMP>
Dump the histogram ZEBRA data structure on the terminal.
<H3 ID=N081>OUTPUT_LP  &lsqb; lun fname &rsqb;
<P>
<IH1>HELP items
<I2     >OUTPUT_LP
<XMP>
LUN        I 'Logical unit number' D=6
FNAME      C 'File name' D=' '
</XMP>
Change the HBOOK "line printer" file name.
If FNAME=' ' then OUTPUT is appended to an already opened file on unit LUN.
If LUN is negative, the file is closed and subsequent output
is directed to unit 6.
<H3 ID=N082>GLOBAL_SECT  gname
<P>
<IH1>HELP items
<I2     >GLOBAL_SECT
<XMP>
GNAME      C 'Global section name' D=' '
</XMP>
Map the global section GNAME (VAX only).
The current directory is changed to //GNAME.
<H3 ID=N083>GRESET  id
<P>
<IH1>HELP items
<I2     >GRESET
<XMP>
ID         C 'Histogram Identifier'
</XMP>
Reset histogram ID in the global section.
<H2       >OPERATIONS
<P>
<IH1>HELP items
<I2     >OPERATIONS
Histogram operations and comparisons.
<H3 ID=N084>ADD  id1 id2 id3 &lsqb; c1 c2 &rsqb;
<P>
<IH1>HELP items
<I2     >ADD
<XMP>
ID1        C 'First histogram Identifier'
ID2        C 'Second histogram Identifier'
ID3        C 'Result histogram Identifier'
C1         R 'Scale factor for ID1' D=1
C2         R 'Scale factor for ID2' D=1
</XMP>
Add histograms: ID3 = C1*ID1 + C2*ID2.
Applicable to 1-Dim and 2-Dim histograms.
See command <XPH>HRIN</XPH> to automatically add histograms with
the same ID from different files.
<H3 ID=N085>SUBTRACT  id1 id2 id3 &lsqb; c1 c2 &rsqb;
<P>
<IH1>HELP items
<I2     >SUBTRACT
<XMP>
ID1        C 'First histogram Identifier'
ID2        C 'Second histogram Identifier'
ID3        C 'Result histogram Identifier'
C1         R 'Scale factor for ID1' D=1
C2         R 'Scale factor for ID2' D=1
</XMP>
Subtract histograms: ID3 = C1*ID1 - C2*ID2.
Applicable to 1-Dim and 2-Dim histograms.
<H3 ID=N086>MULTIPLY  id1 id2 id3 &lsqb; c1 c2 &rsqb;
<P>
<IH1>HELP items
<I2     >MULTIPLY
<XMP>
ID1        C 'First histogram Identifier'
ID2        C 'Second histogram Identifier'
ID3        C 'Result histogram Identifier'
C1         R 'Scale factor for ID1' D=1
C2         R 'Scale factor for ID2' D=1
</XMP>
Multiply histogram contents: ID3 = C1*ID1 * C2*ID2.
Applicable to 1-Dim and 2-Dim histograms.
<H3 ID=N087>DIVIDE  id1 id2 id3 &lsqb; c1 c2 &rsqb;
<P>
<IH1>HELP items
<I2     >DIVIDE
<XMP>
ID1        C 'First histogram Identifier'
ID2        C 'Second histogram Identifier'
ID3        C 'Result histogram Identifier'
C1         R 'Scale factor for ID1' D=1
C2         R 'Scale factor for ID2' D=1
</XMP>
Divide histograms: ID3 = C1*ID1 / C2*ID2.
Applicable to 1-Dim and 2-Dim histograms.
<H3 ID=N088>RESET  id &lsqb; title &rsqb;
<P>
<IH1>HELP items
<I2     >RESET
<XMP>
ID         C 'Histogram Identifier'
TITLE      C 'New title' D=' '
</XMP>
Reset contents and errors of an histogram.
Bin definition is not modified.
<H3 ID=N089>DIFF  id1 id2 &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >DIFF
<XMP>
ID1        C 'First Histogram Identifier'
ID2        C 'Second Histogram Identifier'
CHOPT      C 'Options' D='D' R=' ,N,D,O,U,L,R,B,T'
</XMP>
Test of compatibility for two 1-Dim histograms ID1 and ID2.
A probability PROB is calculated as a number between zero and one,
where PROB near
one indicates very similar histograms, and PROB near zero
means that it is very unlikely that the two arose from the same
parent distribution.
For two histograms sampled randomly from the same distribution,
PROB will be (approximately) uniformly distributed between 0 and 1.
See discussion in HBOOK manual under "HDIFF- Statistical Considerations".
By default (if no options are selected with CHOPT)
the comparison is done only
on the shape of the two histograms, without consideration of
the difference in numbers of events, and ignoring all
underflow and overflow bins.
The string CHOPT allows specification of the following options:
<XMP>
  N Include also comparison of the relative normalization of the
    two histograms, in addition to comparing the shapes.
    PROB is then a combined confidence level taking account
    of absolute contents.
  D Debug printout, produces a blank line and two lines of
    information at each call, including the ID numbers, the number
    of events in each histogram, the PROB value, and the maximum
    Kolmogorov distance between the two histograms.
    For 2\Dim histograms, there are two Kolmogorov distances
    (see below). If 'N' is specified, there is a third line of
    output giving the PROB for shape alone, and for normalization.
  O Overflow, requests that overflow bins be taken into account.
  U Underflow, requests that underflow bins be taken into account.
</XMP>
<H3 ID=N090>SMOOTH  id &lsqb; isel &rsqb;
<P>
<IH1>HELP items
<I2     >SMOOTH
<XMP>
ID         C 'Histogram Identifier'
ISEL       I 'Option flag' D=2
</XMP>
Smooth histogram ID using the 353QH algorithm.
<XMP>
 ISEL = 0,1 replace original histogram by smoothed.
      = 2   superimpose result of smoothing as a function when editing.
</XMP>
<H3 ID=N091>SPLINE  id &lsqb; isel knotx kx &rsqb;
<P>
<IH1>HELP items
<I2     >SPLINE
<XMP>
ID         C 'Histogram Identifier'
ISEL       I 'Option flag' D=2
KNOTX      I 'Number of knots' D=10
KX         I 'Degree of the spline' D=3
</XMP>
Smooth 1-Dim or 2-Dim histogram ID using B-splines.
If ID is a 1-Dim histogram then:
<XMP>
 ISEL = 0,1 replace original histogram by smoothed.
      = 2   superimpose as a function when editing.
</XMP>
If ID is a 2-Dim histogram then original contents are replaced.
<H3 ID=N092>PARAM  id &lsqb; isel r2min maxpow &rsqb;
<P>
<IH1>HELP items
<I2     >PARAM
<XMP>
ID         C 'Histogram Identifier'
ISEL       I 'Control word' D=11
R2MIN      R 'Min correlation coefficient' D=1
MAXPOW     I 'Max degree of polynomials' D=5 R=1:20
</XMP>
Perform a regression on contents of the 1-Dim histogram ID.
Find the best parameterization in terms of elementary functions
(regressors). See HBOOK guide HPARAM.
Control word ISEL=1000*T +100*W +10*S +P
<XMP>
 S = 1 resulting parametric fit superimposed on histogram
     0 no superposition
 P = 0 minimal output: the residual sum of squares is printed
     1 normal output: in addition, the problem characteristics and
       options are printed; also the standard deviations and
       confidence intervals of the coefficients.
     2 extensive output: the results of each iteration are printed
       with the normal output.
 W = 0 weights on histogram contents are already defined via HBARX
       or HPAKE. If not they are taken to be equal to the
       square-root of the contents.
     1 weights are equal to 1.
 T = 0 monomials will be selected as the elementary functions
     1 Chebyshev polynomials with a definition region: &lsqb;-1,1&rsqb;
     2 Legendre polynomials with a definition region: &lsqb;-1,1&rsqb;
     3 shifted Chebyshev polynomials with a definition region: &lsqb;0,1&rsqb;
     4 Laguerre polynomials with a definition region: &lsqb;0,+infinite&rsqb;
     5 Hermite polynomials with a definition region: &lsqb;-inf,+inf&rsqb;
</XMP>
The FORTRAN code of the parameterization is written onto the file
FPARAM.DAT.
<H3 ID=N093>HSETPR  param value
<P>
<IH1>HELP items
<I2     >HSETPR
<XMP>
PARAM      C 'Parameter name' D='FEPS'
VALUE      R 'Parameter value' D=0.001
</XMP>
Set various parameters for command PARAM.
<?.PA>
<H2       >GET_VECT
<P>
<IH1>HELP items
<I2     >GET_VECT
Fill a vector from values stored in HBOOK objects.
<H3 ID=N094>CONTENTS  id vname
<P>
<IH1>HELP items
<I2     >CONTENTS
<XMP>
ID         C 'Histogram Identifier'
VNAME      C 'Vector name'
</XMP>
Get contents of histogram ID into vector VNAME.
<H3 ID=N095>ERRORS  id vname
<P>
<IH1>HELP items
<I2     >ERRORS
<XMP>
ID         C 'Histogram Identifier'
VNAME      C 'Vector name'
</XMP>
Get errors of histogram ID into vector VNAME.
<H3 ID=N096>FUNCTION  id vname
<P>
<IH1>HELP items
<I2     >FUNCTION
<XMP>
ID         C 'Histogram Identifier'
VNAME      C 'Vector name'
</XMP>
Get function associated to histogram ID into vector VNAME.
<H3 ID=N097>ABSCISSA  id vname
<P>
<IH1>HELP items
<I2     >ABSCISSA
<XMP>
ID         C 'Histogram Identifier'
VNAME      C 'Vector name'
</XMP>
Get values of center of bins abscissa into vector VNAME.
<H3 ID=N098>REBIN  id x y ex ey &lsqb; n ifirst ilast &rsqb;
<P>
<IH1>HELP items
<I2     >REBIN
<XMP>
ID         C 'Histogram Identifier'
X          C 'Name of vector X'
Y          C 'Name of vector Y'
EX         C 'Name of vector EX'
EY         C 'Name of vector EY'
N          I 'Number of elements to fill' D=100
IFIRST     I 'First bin' D=1
ILAST      I 'Last bin' D=100
</XMP>
Get contents and errors into vectors, grouping bins.
Bin width and centers are also extracted.
Allow to combine 2, 3 or more bins into one.
<XMP>
   E.g.:  REBIN 110 X Y EX EY 25 11 85
          will group by 3 channels 11 to 85 and return new abscissa,
          contents and errors. Errors in X are equal to 1.5*BINWIDTH.
 
   N.B.:  REBIN ID X Y EX EY  is a convenient way to return in
          one call abscissa, contents and errors for 1-Dim histogram.
          In this case the errors in X are equal to 0.5*BINWIDTH.
</XMP>
<?.PA>
<H2       >PUT_VECT
<P>
<IH1>HELP items
<I2     >PUT_VECT
Replace histogram contents with values in a vector.
<H3 ID=N099>CONTENTS  id vname
<P>
<IH1>HELP items
<I2     >CONTENTS
<XMP>
ID         C 'Histogram Identifier'
VNAME      C 'Vector name'
</XMP>
Replace contents of histogram with values of vector VNAME.
<H3 ID=N100>ERRORS  id vname
<P>
<IH1>HELP items
<I2     >ERRORS
<XMP>
ID         C 'Histogram Identifier'
VNAME      C 'Vector name'
</XMP>
Replace errors of histogram with values of vector VNAME.
<H2       >SET
<P>
<IH1>HELP items
<I2     >SET
Set histogram attributes.
<H3 ID=N101>MAXIMUM  id vmax
<P>
<IH1>HELP items
<I2     >MAXIMUM
<XMP>
ID         C 'Histogram Identifier'
VMAX       R 'Maximum value'
</XMP>
Set the maximum value on the Y axis.
To select again an automatic scale, just set VMAX less then
the minimum.
<H3 ID=N102>MINIMUM  id vmin
<P>
<IH1>HELP items
<I2     >MINIMUM
<XMP>
ID         C 'Histogram Identifier'
VMIN       R 'Minimum value'
</XMP>
Set the minimum value on the Y axis.
To select again an automatic scale, just set VMIN greater then
the maximum.
<H3 ID=N103>NORMALIZE_FACTOR  id &lsqb; xnorm &rsqb;
<P>
<IH1>HELP items
<I2     >NORMALIZE_FACTOR
<XMP>
ID         C 'Histogram Identifier'
XNORM      R 'Normalization factor' D=1
</XMP>
Set the contents/errors normalization factor.
Only valid for histograms (1-Dim).
(does not change contents, only presentation).
<H3 ID=N104>SCALE_FACTOR_2D  id &lsqb; xscale &rsqb;
<P>
<IH1>HELP items
<I2     >SCALE_FACTOR_2D
<XMP>
ID         C 'Histogram Identifier'
XSCALE     R 'Scale factor' D=0
</XMP>
Set the scale factor for histograms (2-Dim).
<?.PA>
<H3 ID=N105>IDOPT  id option
<P>
<IH1>HELP items
<I2     >IDOPT
<XMP>
ID         C 'Histogram Identifier'
OPTION     C 'Options'
</XMP>
Set options for histogram ID. (* means default).
<FIG ID=FIDOPT PLACE=INLINE FRAME=BOX WIDTH=COLUMN>
<FIGCAP>Description of the IDOPT parameters
<XMP>
 SETD* Set all options to the default values
 SHOW  Print all the options currently set
 BLAC  1 Dim histogram printed with X characters
 CONT* 1 Dim histogram is printed with the contour option
 STAR  1 Dim histogram is printed with a * at the Y value
 SCAT* Print a 2 Dim histogram as a scatter\plot
 TABL  Print a 2 Dim histogram as a table
 PROS* Plot errors as the Spread of each bin in Y for
       profile histograms
 PROE  Plot errors as the mean of each bin in Y for
       profile histograms
 STAT  Mean value and RMS computed at filling time
 NSTA* Mean value and RMS computed from bin contents only
 ERRO  Errors bars printed as SQRT(contents)
 NERR* Do not print print error bars
 INTE  Print the values of integrated contents bin by bin
 NINT* Do not print integrated contents
 LOGY  1 Dim histogram is printed in Log scale in Y
 LINY* 1 Dim histogram is printed in linear scale in Y
 PCHA* Print channel numbers
 NPCH  Do not print channel numbers
 PCON* Print bin contents
 NPCO  Do not print bin contents
 PLOW* Print values of low edge of the bins
 NPLO  Do not print the low edge
 PERR  Print the values of the errors for each bin
 NPER* Do not print the values of the errors
 PFUN  Print the values of the associated function bin by bin
 NPFU* Do not print the values of the associated function
 PHIS* Print the histogram profile
 NPHI  Do not print the histogram profile
 PSTA* Print the values of statistics (entries,mean,RMS,etc.)
 NPST  Do not print values of statistics
 ROTA  Print histogram rotated by 90 degrees
 NROT* Print histogram vertically
 1EVL  Force an integer value for the steps in the Y axis
 AEVL* Steps for the Y axis are automatically computed
 2PAG  Histogram is printed over two pages
 1PAG* Histogram is printed in one single page
 AUTO* Automatic scaling
</XMP>
</FIG>
<I1 PG=END  >HISTOGRAM
<H1>KUIP
<I1 PG=START>KUIP
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<?.PA>
<P>
<IH1>HELP items
<I2     >KUIP
<H3 ID=N001>HELP  &lsqb; item &rsqb;
<P>
<IH1>HELP items
<I2     >HELP
<XMP>
ITEM       C 'Command name' D=' '
</XMP>
Give the help of a command.
If a command is supplied as parameter ITEM, its full explanation is given:
syntax (as given by the command USAGE), explanation of the functionality,
list of parameters with their attributes (prompt, type, default, range, etc.).
'HELP /' gives the help for all commands.
<?.sk>
If HELP is entered without parameters, the dialogue style is switched
to 'AN', guiding the user in traversing the tree command structure.
<?.sk>
'HELP -EDIT' (or just 'HELP -E') switch the help in the edit mode.
This mode is currently implemented on IBM/VM-CMS and Apollo:
instead of writing the help text on the terminal output,
it is written into a temporary file and the editor is invoked,
XEDIT on IBM/VM-CMS or a new pad window on the Apollo
(see also command SET_SHOW/HOST_EDITOR).
'HELP -NOEDIT' (or just 'HELP -N' or 'HELP -') switch the help in
the standard mode.
<H3 ID=N002>USAGE  &lsqb; cmnd &rsqb;
<P>
<IH1>HELP items
<I2     >USAGE
<XMP>
CMND       C 'Command name' D=' '
</XMP>
Give the syntax of a command.
If CMND='/' the syntax of all commands is given.
<H3 ID=N003>MANUAL  &lsqb; item outfil docsys &rsqb;
<P>
<IH1>HELP items
<I2     >MANUAL
<XMP>
ITEM       C 'Command name or help (key)word' D=' '
OUTFIL     C 'Output file name' D=' '
DOCSYS     C 'Text formatting system' D=' ' R=' ,SGML,TEX,LATEX'
</XMP>
Write on a file the text formatted help of a command.
If OUTFIL=' ' the text is written to the terminal.
It works like the command HELP ITEM, plus a text formatting option:
if DOCSYS is not a blank the output is formatted according to the selected
documentation and text formatting system (ex. SGML, TEX, LATEX, etc.).
Example:
<XMP>
 MANUAL / FILE.DOC SGML
</XMP>
will produce a file named FILE.DOC
containing the SGML input to be processed
by SGML in order to have the documentation of all the available commands.
<H3 ID=N004>EDIT  fname
<P>
<IH1>HELP items
<I2     >EDIT
<XMP>
FNAME      C 'File name'
</XMP>
Invoke the default host editor.
The file FNAME.KUMAC (the extension KUMAC is taken automatically
unless FNAME contains already a dot) is given to the editor and,
if it does not exist, a new file is created with this name.
Use the command SET_SHOW/HOST_EDITOR to change the default editor.
<H3 ID=N005>LAST  &lsqb; n fname &rsqb;
<P>
<IH1>HELP items
<I2     >LAST
<XMP>
N          I 'N last commands to be saved' D=-1
FNAME      C 'File name' D=' '
</XMP>
Perform various operations with the history file.
<?.sk>
If FNAME is not specified, the current history file is assumed by default
(the startup history file name is LAST.KUMAC).
To change the history file the command LAST 0 NEWFNAME must be entered.
<?.sk>
If N=-1 (default case) the default host editor is called
to edit the current history file, containing all the commands of the session.
<?.sk>
If N=0 the history file FNAME is rewound and set as the current one
(the command LAST 0 FNAME itself is not recorded).
<?.sk>
If N>0 the last N commands of the session are saved in the
current history file.
<?.sk>
See also the command SET_SHOW/RECORDING.
<H3 ID=N006>MESSAGE  &lsqb; string &rsqb;
<P>
<IH1>HELP items
<I2     >MESSAGE
<XMP>
STRING     C 'Message string' D=' '
</XMP>
Write a message string on the terminal.
A useful command inside a macro.
Several message strings can be given in the same command line,
each of them separated by one or more spaces
(the usual parameter separator);
therefore multiple blanks will be dropped
and only one will be kept.
If multiple blanks have not to be dropped,
the string must be surrounded by single quotes.
<H3 ID=N007>SHELL  &lsqb; cmd &rsqb;
<P>
<IH1>HELP items
<I2     >SHELL
<XMP>
CMD        C 'Shell command' D=' '
</XMP>
Execute a command of the host operating system.
To execute just one command enter SHELL COMMAND;
otherwise enter just SHELL and wait for the system prompt.
After the last command enter RETURN (the full word, not just &lt;CR>)
to go back to the application.
<H3 ID=N008>WAIT  &lsqb; string sec &rsqb;
<P>
<IH1>HELP items
<I2     >WAIT
<XMP>
STRING     C 'Message string' D=' '
SEC        R 'Number of seconds' D=0
</XMP>
Make a pause (e.g. inside a macro).
Wait a given number of seconds (if SEC.GT.0)
or just until &lt;CR> is entered (if SEC.LE.0).
A message string is also written on the terminal before waiting.
<H3 ID=N009>UNITS
<P>
<IH1>HELP items
<I2     >UNITS
List all Input/Output logical units currently open.
The files attached to them are also shown.
<H3 ID=N010>EXIT
<P>
<IH1>HELP items
<I2     >EXIT
End of the interactive session.
<H3 ID=N011>QUIT
<P>
<IH1>HELP items
<I2     >QUIT
End of the interactive session.
<H2       >ALIAS
<P>
<IH1>HELP items
<I2     >ALIAS
Operations with aliases.
Aliases are defined to provide shortcut abbreviations for the input line or
some part of it. An alias name can be any string of characters
(excepted the single quote and the blank) and whenever encountered
in an input line it will be literally replaced by its value (another string
of characters).
Alias substitution does not apply in quoted strings.
Aliases need separators to be recognized in the input line, namely:
<XMP>
 blank  /  ,  =  :  .  %  '  (  )
</XMP>
To juxtaposition aliases, a double slash can be used as concatenation sign.
Be careful not defining aliases recursively.
<H3 ID=N013>CREATE  aname string
<P>
<IH1>HELP items
<I2     >CREATE
<XMP>
ANAME      C 'Alias name'
STRING     C 'Equivalent string'
</XMP>
Create an alias named ANAME corresponding to STRING.
Also switch ON the alias translation, i.e. ALIAS/TRANSLATION ON.
Example:
<XMP>
 Alias/Create GG Graph/Struct/Scratch
 Alias/Create FF File1/Name1/Name2
 GG FF/ID
</XMP>
is equivalent to
<XMP>
 Graph/Struct/Scratch File1/Name1/Name2/ID
</XMP>
<H3 ID=N014>LIST
<P>
<IH1>HELP items
<I2     >LIST
List all aliases (name, equivalent string).
<H3 ID=N015>DELETE  alist
<P>
<IH1>HELP items
<I2     >DELETE
<XMP>
ALIST      C 'Alias list'
</XMP>
Delete the definition of aliases in the list ALIST.
The aliases are separated in the list by a comma and
imbedded blanks are not allowed.
If ALIST='*' then delete all aliases
and the alias translation is switched OFF
(i.e.: ALIAS/TRANSLATION OFF is executed).
<H3 ID=N016>TRANSLATION  &lsqb; option &rsqb;
<P>
<IH1>HELP items
<I2     >TRANSLATION
<XMP>
OPTION     C 'Option' D='ON' R='ON,OFF,?'
</XMP>
Switch ON/OFF the alias translation.
If OFF, alias definitions are not used in parsing the command lines.
It is automatically switched ON when an alias is created.
If OPTION='?' the current value is shown.
The startup value is OFF.
<H2       >SET_SHOW
<P>
<IH1>HELP items
<I2     >SET_SHOW
Set or show various KUIP parameters and options.
<H3 ID=N017>STYLE  &lsqb; option sgylen sgsize sgyspa sgbord wktype &rsqb;
<P>
<IH1>HELP items
<I2     >STYLE
<XMP>
OPTION     C 'Option' D='?' R='?,C,AN,AL,G,GW,GS,GP'
SGYLEN     R 'max Y LENgth of each menu item box' D=0.025 R=0.005:0.25
SGSIZE     R 'space available for the application' D=0.8 R=0:0.9
SGYSPA     R 'max Y length of space between menus' D=0.02 R=-0.5:0.5
SGBORD     R 'X or Y border for menus' D=0.015 R=0:0.25
WKTYPE     I 'Graphics workstation type' D=0
</XMP>
Set the user dialogue style (or working mode).
If OPTION='?' the current style is shown.
The startup value is C (command mode).
Currently available options are:
<XMP>
 C   for Command
 AN  for general Alpha menu (with Numbers)
 AL  for general Alpha menu (with Letters)
 G   for Graphics menu (with hardware character fonts)
 GW  for Graphics menu (with shadowed Width effect)
 GS  for Graphics menu (with Software character fonts)
 GP  for Graphics menu (with Panel keys only, i.e. no command tree menu)'
<?.sk>
</XMP>
When using OPTION='G' (or 'GW', 'GS', 'GP') the 4 parameters following
the style can be defined to control the geometrical layout
of the menus on the screen, and the the fifth one to set the graphics
workstation type (without being prompted afterwards, if case of HIGZ
was not inizialized).
<H3 ID=N018>PANEL  line &lsqb; gkey &rsqb;
<P>
<IH1>HELP items
<I2     >PANEL
<XMP>
LINE       R 'Line number' D=0
GKEY       C 'Graphics key value(s)' D=' '
</XMP>
Set up the panel of graphics keys (used by STYLE GP).
<?.sk>
Examples:
<XMP>
 PANEL  0                        | reset the panel
 PANEL  2 A/L QUIT V/L           | initialize line 2 with 3 graphics keys,
                                   respectively A/L, QUIT, V/L
 PANEL  2 A/L ' '  V/L ' ' ' '   | initialize line 2 with 5 graphics keys,
                                   and fill 1st and 3rd keys
 PANEL  2.04 MESSAGE             | initialize 4th key of 2nd line to MESSAGE
 PANEL  2.04                     | clear 4th key of 2nd line
 PANEL -2.08                     | initialize line 2 with 8 graphics keys
 PANEL -6.16                     | initialize line 6 with 16 graphics keys
</XMP>
Note that the key number on the right of the decimal point must
always be defined with two digits.
<?.sk>
Keys ending with a minus sign make an additional request of keyboard input;
the complete command line will be the key text, with a blank at the place
of the minus, concatenated with the additional keyboard input. Example:
<XMP>
 PANEL 1.03 'VEC/PRI-'        | entering VAB will execute VEC/PRI VAB.
</XMP>
Keys ending with a double minus sign behave as above but no blank is put
at the place of the double minus. Example:
<XMP>
 PANEL 1.03 'VEC/PRI V--'     | entering AB will execute VEC/PRI VAB
</XMP>
The dollar sign inside a key is replaced by additional keyboard input. Example:
<XMP>
 PANEL 1.03 'VEC/PRI V($)'    | entering 11:20 will execute VEC/PRI V(11:20)
</XMP>
Maximum values for the key layout are:
1 panel, 10 lines/panel, 30 keys/line, 32 characters/key
<H3 ID=N019>COMMAND  &lsqb; chpath &rsqb;
<P>
<IH1>HELP items
<I2     >COMMAND
<XMP>
CHPATH     C 'Path name for command line' D=' '
</XMP>
Set a filter for the parsing of command lines.
If it has been called, it means that whenever a command line is entered,
if and only if it is not an existing command (not just ambiguous),
it is inserted into the CHPATH string, with $n (n=1..9) being replaced
by the n-th token of the command (tokens are separated by spaces),
or $* being replaced by the whole command line. Examples:
<XMP>
 COMMAND 'V/CR $*(10)'
 AA                     =>   V/CR AA(10)
 BB                     =>   V/CR BB(10)
 V/LIST                 =>   V/LIST
<?.sk>
 COMMAND 'VECTOR/PLOT $1 555 $2'
 AA E                   =>   VECTOR/PLOT AA 555 E
 BB                     =>   VECTOR/PLOT BB 555
<?.sk>
 COMMAND                =>   shows its current value
 COMMAND *              =>   reset (equivalent to COMMAND $*)
</XMP>
Note that COMMAND and subsequent command lines can be used inside macros,
excepted when producing macro statements (like EXEC, IF, GOTO, etc.).
For example, the above examples would work also inside macros, while
COMMAND 'EXEC $*' or COMMAND 'GOTO $1' will not.
<?.sk>
The same remark applies also to the command DEFAULT -Auto,
which is in fact equivalent to COMMAND 'EXEC $*'
<?.sk>
The COMMAND logic is superseded by the DEFAULT -A (or -AR) logic.
<H3 ID=N020>APPLICATION  &lsqb; path cmdex &rsqb;
<P>
<IH1>HELP items
<I2     >APPLICATION
<XMP>
PATH       C 'Application name' D=' '
CMDEX      C 'Exit command' D='EXIT'
</XMP>
Set the application name.
This means that all input lines will be concatenated to the string PATH
(until the command specified by the parameter CMDEX is executed,
which resets the application to the null string). The value of CMDEX
may be specified if the default value EXIT has to be changed
(i.e. because already used by the application).
<H3 ID=N021>ROOT  &lsqb; path &rsqb;
<P>
<IH1>HELP items
<I2     >ROOT
<XMP>
PATH       C 'Root directory' D='/'
</XMP>
Set the root for searching commands.
If PATH='?' the current root is shown.
This allows to access commands regardless of possible
ambiguities with different menus.
Commands are first searched starting from the current root:
if a command is found it is executed.
Only if a command is not found a second pass of search is done,
starting now from the top root of the command tree (i.e. '/').
<H3 ID=N022>TIMING  &lsqb; option &rsqb;
<P>
<IH1>HELP items
<I2     >TIMING
<XMP>
OPTION     C 'Option' D='ON' R='ON,OFF,ALL'
</XMP>
Set ON/OFF/ALL the timing of commands.
If ON, the real time and the CPU time for the latest
executed command (or macro) are presented.
If ALL, the time is shown for each command being executed within a macro.
The startup value is OFF.
<H3 ID=N023>PROMPT  &lsqb; option &rsqb;
<P>
<IH1>HELP items
<I2     >PROMPT
<XMP>
OPTION     C 'Prompt string' D=' '
</XMP>
Set the prompt string for the command mode dialogue.
If OPTION is blank the current prompt is left unchanged.
<H3 ID=N024>BREAK  &lsqb; option &rsqb;
<P>
<IH1>HELP items
<I2     >BREAK
<XMP>
OPTION     C 'Option' D='ON' R='ON,OFF,TB,?'
</XMP>
Set ON/OFF the break handling.
If OPTION='?' the current value is shown.
The startup value is ON.
<?.sk>
Hitting the keyboard interrupt (CTRL/C on VAX or CTRL/Q on the Apollo)
under break ON condition, the current command or macro execution
will be interrupted and the user will get again the application prompt.
<?.sk>
BREAK TB switch ON the traceback of the routines called, with their
line numbers, when an error occurs. This allows the detection of
the routines which provoked the error.
<H3 ID=N025>COLUMNS  &lsqb; ncol &rsqb;
<P>
<IH1>HELP items
<I2     >COLUMNS
<XMP>
NCOL       I 'Number of columns for terminal output' D=80 R=0:132
</XMP>
Set the maximum number of columns for terminal output.
If NCOL=0 the current number of columns is shown.
The startup value is 80.
<H3 ID=N026>RECORDING  &lsqb; nrec &rsqb;
<P>
<IH1>HELP items
<I2     >RECORDING
<XMP>
NREC       I 'Rate for recording on history file' D=25 R=0:25
</XMP>
Set the recording rate for the history file.
Every NREC commands of the session the current history file is updated.
If NREC=0 the history is not kept at all (i.e. the file is not written).
See also the command LAST.
<H3 ID=N027>HOST_EDITOR  &lsqb; option top left width height dxpad dypad npads &rsqb;
<P>
<IH1>HELP items
<I2     >HOST_EDITOR
<XMP>
OPTION     C 'Name of default host editor' D='?' R='EDT,TPU,WINDOW,PAD'
TOP        I 'Top position of the edit window' D=20
LEFT       I 'Left position of the edit window' D=20
WIDTH      I 'Width of the edit window' D=0
HEIGHT     I 'Height of the edit window' D=0
DXPAD      I 'X offset for help PAD windows' D=30 R=0:
DYPAD      I 'Y offset for help PAD windows' D=20 R=0:
NPADS      I 'Maximum number of shifted pads' D=4 R=1:
</XMP>
Set the default host editor (only on the VAX).
If OPTION='?' the current host editor is shown.
The EDIT command will invoke this editor.
The startup value is EDIT/EDT.
<?.sk>
On the Apollo, if OPTION='WINDOW' or 'PAD' and some parameters are
following, they will be used as edit window positions (in pixel units).
If no parameters are following (i.e. typing just HOST WINDOW or HOST PAD)
they will be asked graphically on a dummy window.
OPTION='WINDOW' is used to specify window pad parameters used by
commands like EDIT, LAST, etc., while OPTION='PAD' is used to specify help
pad parameters used by the command HELP in EDIT mode.
<?.sk>
This command is meaningful on the VAX only: on the Apollo the default host
editor is always the screen editor and on IBM/VM-CMS it is always XEDIT.
<I1 PG=END  >KUIP
<H1>MACRO
<I1 PG=START>MACRO
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<?.PA>
<P>
<IH1>HELP items
<I2     >MACRO
<H3 ID=N028>EXEC  mname
<P>
<IH1>HELP items
<I2     >EXEC
<XMP>
MNAME      C 'Macro name'
</XMP>
Execute the command lines contained in the macro MNAME.
As a file can contain several macros, the character '#' is
used to select a particular macro inside a file as explained below.
<?.sk>
If MNAME does not contain the character '#', the file MNAME.KUMAC
is searched and the first macro is executed (it may be an unnamed
macro if a MACRO statement is not found as first command line in the file).
<?.sk>
If MNAME is of the form FILE#MACRO, the file named FILE.KUMAC is searched
and the macro named MACRO is executed.
<?.sk>
Examples:
<XMP>
 EXEC ABC   to exec first (or unnamed) macro of file ABC.KUMAC
 EXEC ABC#M to exec macro M of file ABC.KUMAC
</XMP>
<H3 ID=N029>LIST  &lsqb; mname &rsqb;
<P>
<IH1>HELP items
<I2     >LIST
<XMP>
MNAME      C 'Macro name restrictions' D=' '
</XMP>
List all macros on disk.
Macros are files with the extension KUMAC.
MNAME may be specified to restrict the list to the macros
containing such a string in the first part of their name,
for example MACRO/LIST ABC will list all macros starting with ABC.
<H3 ID=N030>TRACE  &lsqb; option level prompt &rsqb;
<P>
<IH1>HELP items
<I2     >TRACE
<XMP>
OPTION     C 'Option' D='ON' R='ON,OFF'
LEVEL      C 'Level' D=' ' R=' ,WAIT,FULL'
PROMPT     C 'Prompt string' D=' '
</XMP>
Set ON/OFF the trace of commands during macro execution.
If LEVEL='WAIT' the command WAIT is automatically inserted
after the execution of each command.
If LEVEL='FULL' all the names of macros and labels are printed
at the end of macro interpretation.
If TRACE='ON' the command being executed is written
on the terminal, after the prompt defined in the parameter PROMPT;
if PROMPT=' ' (default) the prompt written is replaced by a number of '>'
equal to the current prompt length. At the end of the macro execution
the prompt is switched back to the original one.
The startup values are OPTION='OFF' and LEVEL=' '.
<H3 ID=N031>DEFAULTS  &lsqb; chpath &rsqb;
<P>
<IH1>HELP items
<I2     >DEFAULTS
<XMP>
CHPATH     C 'Path name for macro files' D=' '
</XMP>
Set or show various MACRO attributes.
<?.sk>
Entered without parameters, it show the current "extra path"
to the 'default working directory',
as well as all macro parameters (name, default value)
relative to the latest EXEC command entered.
<?.sk>
If CHPATH is supplied, set its value representing the "extra path".
The "extra path" is a string (e.g. the name of a disk directory) which
is added in front of the macro file names, whenever they are used in
the commands EDIT, EXEC and MACRO/LIST.
The extra path is ignored if a dash sign '-' is put in front of
the file name.
If CHPATH='*', the extra path is reset and the host computer's
current working directory is used.
Example:
<XMP>
     DEFAULT 'DISK$DL:&lsqb;PAW&rsqb;'
     MACRO/LIST              | list macros in DISK$DL:&lsqb;PAW&rsqb;
     EXEC FUNCTION           | executes DISK$DL:&lsqb;PAW&rsqb;FUNCTION.KUMAC
     EXEC -MYMACRO           | executes MYMACRO.KUMAC
     EXEC PALETTE            | executes DISK$DL:&lsqb;PAW&rsqb;PALETTE.KUMAC
     DEFAULT *
     EXEC PALETTE            | executes PALETTE.KUMAC
</XMP>
In addition to what described above, the command DEFAULTS may be used to
control whether commands and/or macros are searched (and in which order):
<XMP>
     DEFAULT -Command
     CMD                     | CMD is executed (error if not found)
     DEFAULT -Auto
     CMD                     | try CMD first; if not found, try EXEC CMD
     DEFAULT -AutoReverse
     CMD                     | try EXEC CMD first; if not found, try CMD
</XMP>
The lower case letters following the minus sign are optional.
The startup value (also re-set by DEFAULT *) is DEFAULT -C
<?.sk>
The DEFAULT -A (or -AR) logic supersedes the COMMAND logic.
<?.sk>
Important note:
<?.sk>
Inside macros the DEFAULT -A (or -AR) logic is not active:
DEFAULT -C is always assumed.
<H3 ID=N032>RECURSION  &lsqb; option &rsqb;
<P>
<IH1>HELP items
<I2     >RECURSION
<XMP>
OPTION     C 'Option' D='ON' R='ON,OFF'
</XMP>
Set ON/OFF the option to execute macros recursively.
The startup value is OFF.
<I1 PG=END  >MACRO
<H1>NETWORK
<I1 PG=START>NETWORK
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<P>
<IH1>HELP items
<I2     >NETWORK
<H3 ID=N212>RLOGIN  host
<P>
<IH1>HELP items
<I2     >RLOGIN
<XMP>
HOST       C 'Host name' D=' '
</XMP>
Start a communication with a remote machine HOST.
Current Directory will be changed to //HOST.
<H3 ID=N213>RSHELL  message
<P>
<IH1>HELP items
<I2     >RSHELL
<XMP>
MESSAG     C 'Message to remote host' D=' '
</XMP>
Send MESSAGE to current remote host.
Note that the Current Directory must be //HOST (see RLOGIN).
Some PAW commands (Histo/Plot, Histo/List) can communicate
directly with HOST.
<I1 PG=END  >NETWORK
<H1>NTUPLE
<I1 PG=START>NTUPLE
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<?.PA>
<P>
<IH1>HELP items
<I2     >NTUPLE
<H3 ID=N110>CREATE  idn title nvar chrzpa nprime varlist
<P>
<IH1>HELP items
<I2     >CREATE
<XMP>
IDN        C 'Ntuple Identifier'
TITLE      C 'Ntuple title' D=' '
NVAR       I 'Number of variables' D=1 R=1:512
CHRZPA     C 'RZ path' D=' '
NPRIME     I 'Primary allocation' D=1000
VARLIS     C 'Names of the NVAR variables'
</XMP>
Create an Ntuple.
The Ntuple may be created either purely in memory or possibly
using an automatic overflow to an RZ file.
Memory allocation works in the following way.
If CHRZPA = '  ', then a bank of NPRIME
words is created. When the space in this bank is exhausted at filling time,
a new linear structure of length NPRIME is created and this process will be
repeated should the structure become exhausted.
If CHRZPA contains the top directory name of an already existing RZ file (as
declared with HISTO/FILE), then a bank of length NPRIME is also created,
but at filling time, this bank is moved to the RZ file when full, and
then it is overwritten by any new entries.
The Ntuple can be filled by calling HFN from an interactively
defined subroutine called by the command NTUPLE/LOOP or by NTUPLE/READ.
The number of variables per data point is given in the parameter NVAR.
<H3 ID=N114>LOOP  idn uwfunc &lsqb; nevent ifirst &rsqb;
<P>
<IH1>HELP items
<I2     >LOOP
<XMP>
IDN        C 'Identifier of Ntuple'
UWFUNC     C 'Selection function or cut number' D=' '
NEVENT     I 'Number of events' D=999999
IFIRST     I 'First event' D=1
</XMP>
Invoke the selection function UWFUNC for each event
starting at event IFIRST. In UWFUNC, the user can fill one or several
histograms previously booked.
The loop will be terminated if UWFUNC returns a negative value.
For more information about UWFUNC, see command NTUPLE/PLOT.
<H3 ID=N115>MERGE  idn1 idn2 &lsqb; uwfunc nevent ifirst &rsqb;
<P>
<IH1>HELP items
<I2     >MERGE
<XMP>
IDN1       C 'Identifier of first Ntuple'
IDN2       C 'Identifier of second Ntuple'
UWFUNC     C 'Selection function or cut number' D=' '
NEVENT     I 'Number of events' D=999999
IFIRST     I 'First event' D=1
</XMP>
Merge two Ntuples.
Invoke the selection function UWFUNC for each of the NEVENT events
starting at event IFIRST of Ntuple IDN1.
Only the events with UWFUNC>0 are appended to IDN2. IDN2 may be empty.
Note that the Ntuple variables may be redefined inside UWFUNC.
For more information about UWFUNC, see command NTUPLE/PLOT.
<P>As an example, suppose we have four files containing Ntuple
<XPH>ID=10</XPH> and we want to merge
the four files into file 4. Then the following sequence of commands
should be used:
<XMP>
PAW ><HP3>Histo/file 1 file1</HP3>
PAW ><HP3>Histo/file 2 file2</HP3>
PAW ><HP3>Histo/file 3 file3</HP3>
PAW ><HP3>Histo/file 4 file4 1024 U</HP3>
PAW ><HP3>Ntuple/Merge //lun1/10 //lun4/10</HP3>
PAW ><HP3>Ntuple/Merge //lun2/10 //lun4/10</HP3>
PAW ><HP3>Ntuple/Merge //lun3/10 //lun4/10</HP3>
PAW ><HP3>Ntuple/plot 10.x .........</HP3>
</XMP>
<H3 ID=N112>PRINT  idn
<P>
<IH1>HELP items
<I2     >PRINT
<XMP>
IDN        C 'Ntuple Identifier'
</XMP>
Print a summary about Ntuple IDN.
Number of entries, variables names and limits are listed.
<?.PA>
<H3 ID=N116>PROJECT  idh idn &lsqb; uwfunc nevent ifirst &rsqb;
<P>
<IH1>HELP items
<I2     >PROJECT
<XMP>
IDH        C 'Identifier of histogram to fill'
IDN        C 'Identifier of Ntuple'
UWFUNC     C 'Selection function or cut number' D=' '
NEVENT     I 'Number of events' D=999999
IFIRST     I 'First event' D=1
</XMP>
Project an Ntuple onto a 1-Dim or 2-Dim histogram,
possibly using a selection function or predefined cuts.
IDN may be given as IDN or IDN.X , IDN.Y%X , IDN.1, IDN.2%1.
Y%X means variable Y of Ntuple IDN versus variable X.
For more information about UWFUNC, see command NTUPLE/PLOT.
The histogram IDH is not reset before filling. This allows
several PROJECTs from different Ntuples.
<H3 ID=N117>READ  idn fname &lsqb; format chopt nevent &rsqb;
<P>
<IH1>HELP items
<I2     >READ
<XMP>
IDN        C 'Ntuple Identifier'
FNAME      C 'File name'
FORMAT     C 'Format' D='*'
CHOPT      C 'Options' D=' '
NEVENT     I 'Number of events' D=1000000
</XMP>
Read Ntuple values from the alphanumeric file FNAME with
the format specifications in FORMAT.
Before executing this command, the Ntuple IDN must have been
created with the command Ntuple/Create.
<H3 ID=N122>UWFUNC  idn fname &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >UWFUNC
<XMP>
IDN        C 'Ntuple Identifier'
FNAME      C 'File name'
CHOPT      C 'Options' D=' ' R=' ,E,P,T'
</XMP>
To generate the FORTRAN skeleton of a selection function.
Example:
If Ntuple ID=30 has variable names &lsqb;X,Y,Z,ETOT,EMISS,etc&rsqb; then:
<?.sk>
NTUPLE/UWFUNC 30 SELECT.FOR   will generate the file SELECT.FOR with:
<XMP>
      FUNCTION SELECT(XDUMMY)
      COMMON/PAWIDN/IDNEVT,VIDN1,VIDN2,VIDN3,X,Y,Z,ETOT,EMISS,etc
      SELECT=1.
      END
</XMP>
Then using the command EDIT one can modify this file which could then
look something like (IDNEVT is the event number):
<XMP>
      FUNCTION SELECT(XDUMMY)
      COMMON/PAWIDN/IDNEVT,VIDN1,VIDN2,VIDN3,X,Y,Z,ETOT,EMISS,etc
      IF(X**2+Y**2.GT.Z**2.OR.ETOT.GT.20.)THEN
         SELECT=1.
      ELSE
         SELECT=0.
      ENDIF
      END
</XMP>
If in a subsequent command NTUPLE/PLOT, the selection function SELECT
is used, then:
<XMP>
   If NTUPLE/PLOT 30.ETOT SELECT.FOR
      VIDN1=ETOT
   If NTUPLE/PLOT 30.SQRT(X**2+Y**2)%(ETOT-EMISS)
      VIDN1=ETOT-EMISS
      VIDN2=SQRT(X**2+Y**2)
 If CHOPT='E' then the local editor is invoked on FNAME.
         ='P' code to print events is generated.
         ='T' Names of the Ntuple variables are generated in DATA.
</XMP>
<?.PA>
<H3 ID=N118>PLOT  idn &lsqb; uwfunc nevent ifirst nupd chopt &rsqb;
<P>
<IH1>HELP items
<I2     >PLOT
<XMP>
IDN        C 'Ntuple Identifier'
UWFUNC     C 'Selection function' D='0'
NEVENT     I 'Number of events' D=999999
IFIRST     I 'First event' D=1
NUPD       I 'Frequency to update histogram' D=1000000
CHOPT      C 'Options' D=' ' R=' ,C,S,+,B,L,P,*,U,E,A'
</XMP>
Project and plot an Ntuple as a (1-Dim or 2-Dim) histogram
with automatic binning (ID=1000000),
possibly using a selection algorithm.
See command HISTO/PLOT for explanation of CHOPT.
<XMP>
 IDN may be given as IDN
                     IDN.X
                     IDN.Y%X
                     IDN.1
                     IDN.2%1
                     IDN.expression1
                     IDN.expression1%expression2
</XMP>
Y%X means a scatter-plot Y(I) versus X(I) where I is the event number.
2%1 means a scatter-plot variable 2 versus variable 1.
In this example, X and Y are the names of the variables 1 and 2
respectively.
Expression 1 is any numerical expression of the Ntuple variables.
It may include a call to a COMIS function.
<XMP>
 UWFUNC may have the following forms:
 1- UWFUNC='0' or missing (only IDN given). No selection is applied.
 2- UWFUNC is a CUT or combination of valid CUTS created by the
    command NTUPLE/CUTS. Ex:
           UWFUNC=1            means use cut number 1
           UWFUNC=1.AND.2
           UWFUNC=.NOT.(1.AND.2)
           UWFUNC=(1.OR.2).AND.3
 3- UWFUNC is a FORTRAN expression
    Ex:    X>3.14.AND.(Y&lt;Z+3.15)
 4- UWFUNC is a variable name or an arithmetic expression
    Ex:   NT/PLOT 30.X Y  weight of each event is variable Y
          NT/PLOT 30.X X**2+Y**2
 5- UWFUNC is the name of a selection function in a text file with
    the name UWFUNC.FTN, UWFUNC.FOR, UWFUNC FORTRAN (Apollo, VAX, IBM).
</XMP>
The command UWFUNC may be used to generate automatically this function.
For example if IDN=30 is an Ntuple with 3 variables
per event and 10000 events, then
<XMP>
    NTUPLE/PLOT 30.X SELECT.FOR
</XMP>
will process the 10000 events of the Ntuple IDN=30. For each event,
the function SELECT is called. It returns the weight of the event.
Example:
<XMP>
    FUNCTION SELECT(X)
    DIMENSION X(3)
    IF(X(1)**1+X(2)**2.LT.1.5)THEN
       SELECT=0.
    ELSE
       SELECT=1.
    ENDIF
    END
</XMP>
The file SELECT.FOR (VAX), SELECT.FTN (Apollo) or
SELECT FORTRAN (IBM) can be edited from PAW using the command EDIT.
Note that if the suffix (.FTN, .FORTRAN or .FOR) is omitted, then COMIS
will start from the precompiled version in memory and not from the file.
Results of a selection can be saved in a MASK (See NTUPLE/MASK).
<XMP>
 Ex: NT/PLOT 30.X Z&lt;0.4>>MNAME(4)
     means mark bit 4 in mask MNAME for all events satisfying
     the condition Z&lt;0.4
</XMP>
A MASK may also be given as input to a selection expression.
<XMP>
 Ex:  NT/PLOT 30.X MNAME(4).and.Z&lt;0.4
      means all events satisfying bit 4 of MNAME AND Z&lt;0.4
</XMP>
It is possible to plot expressions of the original variables.
<?.sk>
<XMP>
 Ex 1:  NT/PLOT 30.SIN(X)%SQRT(Y**2+Z**2)  Z&lt;0.4
     plots a scatter-plot of variable U versus V for all events
     satisfying the condition Z&lt;0.4. U and V are defined as being
     U=SIN(X)  and V=SQRT(X**2+Y**2)
<?.sk>
 Ex 2:  NT/PLOT 30.FUNC.FTN(X)%(SIN(Y)+3.)  Z&lt;0.2.and.TEST.FTN>6
     plots a scatter-plot of variable U versus V for all events
     satisfying the condition (Z&lt;0.2 and the result of the COMIS
     function TEST.FTN >6). U and V are defined as being
     U=Result of the COMIS function FUNC.FTN,  V=SIN(Y)+3.
</XMP>
The default identifier of the histogram  being filled is IDF=1000000.
At the next invocation of this command, it will be overwritten.
If either NEVENT or IFIRST or NUPD are negative, then the identifier
of the histogram being filled will be taken as IDF=-NEVENT or
IDF=-IFIRST or IDF=-NUPD. IDF may have been created with H/CREATE.
Before filling IDF, the contents of IDF are reset if IDF already
exists. Use NTUPLE/PROJECT to cumulate several passes into IDF.
Note that IDF not equal to 1000000 is a convenient way to force user
binning. This option must be used when options '+', 'U', 'S' are
specified in CHOPT.
Every NUPD events, the current status of the  histogram is displayed.
<H3 ID=N119>CUTS  icut &lsqb; chopt fname &rsqb;
<P>
<IH1>HELP items
<I2     >CUTS
<XMP>
ICUT       I 'Cut number' R=0:100
CHOPT      C 'Options' D='P' R=' ,G,P,S,-,R,W,D'
FNAME      C 'File name' D=' '
</XMP>
Define cut number ICUT for an Ntuple.
This cut can then be used
in subsequent commands NTUPLE/PLOT, PROJECT.
<XMP>
  CHOPT='G' define a new cut ICUT using graphics input on the latest
            1-Dim or 2-Dim projection of the Ntuple.
            For a 1-Dim projection, give 2 points cutmin,cutmax.
            For a 2-Dim projection, give up to 20 points to delimitate
            the selected area. The polygon will automatically
            be closed by PAW.
  CHOPT='P' Print definition of cut number ICUT.
        'S' same as P
        '-' Reset cut ICUT
        'R' read definition of cut ICUT from file FNAME.
        'W' write definition of cut ICUT on file FNAME (text file).
        'D' Draw cut contour.
  CHOPT='expression'  Ex:   0.4&lt;X&lt;0.8.and.Y&lt;SQRT(X)
</XMP>
Note that ICUT=0 means all cuts except for 'G' option.
When option G is selected, graphical cuts are only operational
for plots of the original Ntuple variables, not for expressions
of these variables.
<H3 ID=N113>SCAN  idn &lsqb; chfunc nevent ifirst nvars varlis &rsqb;
<P>
<IH1>HELP items
<I2     >SCAN
<XMP>
IDN        C 'Ntuple Identifier'
CHFUNC     C 'User cut function' D='0'
NEVENT     I 'Number of events' D=999999
IFIRST     I 'First event' D=1
NVARS      I 'Number of variables to scan' D=8 R=0:8
VARLIS     C 'Names of the NVARS variables to scan'
</XMP>
Scan the entries of an Ntuple subject to user cuts.
Scan the variables for NEVENT events starting at IFIRST, requiring that
the events satisfy cut CHFUNC. Up to 8 variables may be scanned,
the default is to scan the first 8 variables.
<?.PA>
<H3 ID=N120>CSELECT  &lsqb; chopt csize &rsqb;
<P>
<IH1>HELP items
<I2     >CSELECT
<XMP>
CHOPT      C 'Options' D='N' R=' N,R,B,C'
CSIZE      R 'Comment size' D=0.28
</XMP>
To write selection mechanism as a comment on the picture.
If option N is given, then all subsequent NTUPLE/PLOT commands
will print the selection mechanism with the options specified in CHOPT.
By default, the comment is drawn left justified above the top zone line.
The options are :
<XMP>
  'R' comment is right adjusted to the current zone
  'C' comment is centered to the current zone
  'B' comment is drawn below the top zone line
</XMP>
Example:
<XMP>
 CSEL          All coming NT/PLOT commands will draw a comment
               of size CSIZE=0.28cm Left justified.
 CSEL NRB 0.4  All coming NT/PLOT commands will draw a comment
               of size 0.4 cm Right justified Below the top line.
 CSEL  CB      Draw previous selection mechanism Centered Below
               the top zone line.
 CSEL  ' '     Reset CSEL mechanism
</XMP>
<H3 ID=N121>MASK  mname &lsqb; chopt number &rsqb;
<P>
<IH1>HELP items
<I2     >MASK
<XMP>
MNAME      C 'Mask name'
CHOPT      C 'Options' D=' ' R=' ,U,N,P,C,R'
NUMBER     I 'Bit number' D=0
</XMP>
Perform Operations with masks.
A mask is a direct-access file with the name MNAME.MASK.
It must contain as many 32 bit words as there are events
in the associated Ntuple.
Masks are interesting when only a few events of a Ntuple are selected
with a time consuming selection algorithm. For example if the command:
<XMP>
   NT/PLOT 30.X  Z&lt;0.4.AND.SELECT.FTN>>MNAME(6)
</XMP>
then for all events in Ntuple 30 satisfying the condition above,
the bit 6 in the corresponding mask words will be set. One can then use
the mask as selection mechanism. Example:
<XMP>
   NT/PLOT 30.X MNAME(6)
</XMP>
will produce the same results than the NT/PLOT command above, but
will be much faster if only a small fraction of all the events
is selected.
MASKS are automatically saved across PAW sessions on files.
<XMP>
 CHOPT=' ' Existing mask on file MNAME.MASK is attached for READ only.
 CHOPT='U' Existing mask on file MNAME.MASK is attached for UPDATE.
 CHOPT='N' A new mask on file MNAME.MASK is created for NUMBER events.
 CHOPT='P' The comments for all active bits is printed.
 CHOPT='C' Mask is closed.
 CHOPT='R' Reset bit number NUMBER.If NUMBER=99, resets all bits.
</XMP>
Example:
<XMP>
   MASK  TEST N 10000
      creates a new mask on file TEST.MASK with enough words to
      process a Ntuple with 10000 events
   MASK  TEST UP
      opens an existing mask for update and
      prints the active selection bits with explanation
</XMP>
<H3 ID=N111>LIST
<P>
<IH1>HELP items
<I2     >LIST
List all Ntuples in the Current Directory.
Note that the command HISTO/LIST lists all histograms and Ntuples
in the Current Directory.
<I1 PG=END  >NTUPLE
<H1>PICTURE
<I1 PG=START>PICTURE
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<?.PA>
<P>
<IH1>HELP items
<I2     >PICTURE
<H3 ID=N170>FILE  lun fname &lsqb; lrecl chopt &rsqb;
<P>
<IH1>HELP items
<I2     >FILE
<XMP>
LUN        I 'Logical unit number' R=1:128
FNAME      C 'File name'
LRECL      I 'Record length in words' D=1024
CHOPT      C 'Options' D=' ' R=' ,A,N,U,AN,AU'
</XMP>
Open a HIGZ direct access picture file.
<XMP>
  For CHOPT=' ', existing file is opened.
  For CHOPT='N', a new file is opened.
  For CHOPT='U', existing file is modified.
</XMP>
If CHOPT='AU' or 'AN', pictures will be automatically saved
on the direct access file. This automatic saving facility
can be switched off using IGSET AURZ 0.
<H3 ID=N171>LIST
<P>
<IH1>HELP items
<I2     >LIST
List all the HIGZ pictures currently stored in memory.
<H3 ID=N172>CREATE  pname
<P>
<IH1>HELP items
<I2     >CREATE
<XMP>
PNAME      C 'Picture name'
</XMP>
Create a new picture, named PNAME, in memory.
Note that all commands which start a new picture (clear workstation)
automatically create pictures named PICT1, PICT2, etc.
if the command OPTION ZFL or OPTION ZFL1 has been executed.
<H3 ID=N173>DELETE  pname
<P>
<IH1>HELP items
<I2     >DELETE
<XMP>
PNAME      C 'Picture name' D=' '
</XMP>
Delete the picture PNAME from memory.
PNAME='*' means all pictures.
<H3 ID=N174>SCRATCH  pname
<P>
<IH1>HELP items
<I2     >SCRATCH
<XMP>
PNAME      C 'Picture name' D=' '
</XMP>
Delete the picture PNAME from current directory on disk.
<H3 ID=N175>PLOT  &lsqb; pname &rsqb;
<P>
<IH1>HELP items
<I2     >PLOT
<XMP>
PNAME      C 'Picture name' D=' '
</XMP>
Plot the picture PNAME.
PNAME=' ' means the current picture.
PNAME='*' means all pictures.
<H3 ID=N176>MODIFY  &lsqb; pname chopt &rsqb;
<P>
<IH1>HELP items
<I2     >MODIFY
<XMP>
PNAME      C 'Picture name' D=' '
CHOPT      C 'Options' D=' ' R=' ,S,A'
</XMP>
Edit the picture PNAME.
PNAME=' ' means the current picture.
Various options can be selected with the graphics menu.
This command is only available on workstations.
<XMP>
 CHOPT='S' Software characters are used for the text in menus.
 CHOPT='A' the option shAdow is used.
</XMP>
<H3 ID=N177>MERGE  pname &lsqb; x y scale chopt &rsqb;
<P>
<IH1>HELP items
<I2     >MERGE
<XMP>
PNAME      C 'Picture name'
X          R 'X coord(NDC) where to draw PNAME' D=0
Y          R 'Y coord(NDC) where to draw PNAME' D=0
SCALE      R 'Scale factor' D=1
CHOPT      C 'Options' D=' ' R=' ,D'
</XMP>
Add the picture PNAME to the current picture.
<XMP>
 CHOPT='D' Picture PNAME is displayed during merging.
</XMP>
<H3 ID=N178>COPY  pname1 pname2
<P>
<IH1>HELP items
<I2     >COPY
<XMP>
PNAME1     C 'Picture name'
PNAME2     C 'New picture name'
</XMP>
Copy a picture.
<H3 ID=N179>RENAME  pname1 pname2
<P>
<IH1>HELP items
<I2     >RENAME
<XMP>
PNAME1     C 'Old picture name'
PNAME2     C 'New picture name'
</XMP>
Rename a picture.
<H3 ID=N180>IZOUT  &lsqb; pname &rsqb;
<P>
<IH1>HELP items
<I2     >IZOUT
<XMP>
PNAME      C 'Picture name' D=' '
</XMP>
Write the picture PNAME to a direct access picture file
(see command PICTURE/FILE).
PNAME=' ' means the current picture.
PNAME='*' means all pictures.
<H3 ID=N181>IZIN  pname &lsqb; icycle &rsqb;
<P>
<IH1>HELP items
<I2     >IZIN
<XMP>
PNAME      C 'Picture name'
ICYCLE     I 'Cycle number' D=9999
</XMP>
Read picture into memory from a direct access picture file.
(see command PICTURE/FILE).
PNAME='*' means all pictures.
<H3 ID=N182>IZPICT  pname &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >IZPICT
<XMP>
PNAME      C 'Picture name'
CHOPT      C 'Options' D='M' R=' ,M,D,S,N,L,F,P,C'
</XMP>
Perform various operations on a picture.
<XMP>
 CHOPT:
 'M' Make a new picture in memory with name PNAME.
     An empty structure is created in memory and becomes
     the current picture. If PNAME = ' ', the picture is
     automatically named as PICTnnn, where the starting
     value of nnn is either 0 (default), or the value assigned by
     IGSET to the parameter PICT.
 'D' Display the picture PNAME in memory.
 'S' Scratch the picture PNAME from memory. If PNAME = ' '
     the current picture is scratched.
 'N' The picture following the current picture in memory becomes
     the current picture. If the current picture is the
     last one in memory, the first picture in memory becomes
     the current picture.
 'L' Give the list of the pictures in memory,
     following the sequence of their storage in memory.
 'F' The First picture in memory becomes the current picture.
 'P' Print the picture data structure. Useful to debug programs.
 'C' Set Current picture. All calls to HIGZ graphic functions
     are stored in the current structure according to the option
     selected be IGZSET.
</XMP>
PNAME=' ' means the current picture.
PNAME='*' means all pictures.
<H3 ID=N183>SWITCH  &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >SWITCH
<XMP>
CHOPT      C 'Options' D='G' R='G,Z,GZ'
</XMP>
Set the graphics switch to control plotting output
to terminal (G) and/or picture in memory (Z).
<XMP>
  If CHOPT='G'  Graphics output only.
  If CHOPT='Z'  graphics primitives stored in ZEBRA memory only.
  If CHOPT='GZ' both.
</XMP>
<H3 ID=N184>IGSET  &lsqb; chatt value &rsqb;
<P>
<IH1>HELP items
<I2     >IGSET
<XMP>
CHATT      C 'Attribute name' D='SHOW'
VALUE      R 'Attribute value' D=0
</XMP>
Set a HIGZ attribute.
If CHATT='SHOW' print default and current values for all attributes.
If CHATT='*' restore default values for all attributes.
If VALUE=0, the attribute is set to its default value.
See <TREF REFID=TABIG>.
<I1 PG=END  >PICTURE
<H1>VECTOR
<I1 PG=START>VECTOR
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<?.PA>
<P>
<IH1>HELP items
<I2     >VECTOR
Vectors are equivalent to FORTRAN 77 arrays and they use
the same notation except when omitting indexes (see last line below).
Up to 3 dimensions are supported. Examples:
<XMP>
 Vec(20) (mono-dimensional with 20 elements)
</XMP>
may be addressed by:
<XMP>
 Vec          for all elements
 Vec(13)      for element 13-th
 Vec(12:)     for elements 12-th to last
 Vec(:10)     for elements first to 10-th
 Vec(5:8)     for elements 5-th to 8-th
<?.sk>
 Vec(3,100) (bi-dimensional with 3 columns by 100 rows):
</XMP>
may be addressed by:
<XMP>
 Vec(2,5:8)   for elements 5-th to 8-th in 2-nd column
 Vec(2:3,5:8) for elements 5-th to 8-th in 2-nd to 3-rd columns
 Vec(2,5)     for element 5-th in 2-nd column
 Vec(:,3)     for all elements in 3-rd row
 Vec(2)       for all elements in 2-nd column (SPECIAL CASE)
</XMP>
The latest line shows the special (and non-standard with FORTRAN 77)
notation such that missing indexes are substituted to the right.
<?.sk>
An 'invisible' vector called '?', mono-dimensional and of length 100,
is always present. Is is used for communicating between user arrays
and KUIP vectors, being equivalenced with the real array VECTOR(100)
in the labelled common block /KCWORK/.
<H3 ID=N034>CREATE  vname &lsqb; type &rsqb;
<P>
<IH1>HELP items
<I2     >CREATE
<XMP>
VNAME      C 'Vector name(length)'
TYPE       C 'Vector type' D='R' R='R,I'
</XMP>
Create a vector named VNAME (elements are set to zero).
The dimensions are taken from the name,
for example VEC(20), VEC(3,100), VEC(2,2,10).
Up to 3 dimensions are supported. Dimensions which are not specified
are taken to 1, for example VEC(10) ---> VEC(10,1,1) and VEC ---> VEC(1,1,1).
The vector may be of type Real or Integer.
A vector is filled at the same time if parameters are given
after the TYPE:
<XMP>
 VEC/CREATE V(10) R 1 2 3 4 5 66 77 88 99 111
 VEC/CREATE W(20) R 1 2 3
</XMP>
In the last example only the first three elements are filled.
Vector elements may be changed later with the command VECTOR/INPUT.
<?.sk>
If many equal values have to be entered consecutively, one can specify just
one value and precede it by a repetition factor and an asterisk. Example:
<XMP>
 VEC/CREATE Z(20) R 5*1 2 4*3   --->   VEC/CREATE Z(20) R 1 1 1 1 1 2 3 3 3 3
</XMP>
Enter HELP VECTOR for more information on vector addressing.
<H3 ID=N033>LIST
<P>
<IH1>HELP items
<I2     >LIST
List all vectors (name, dimensions, type).
<H3 ID=N035>DELETE  vlist
<P>
<IH1>HELP items
<I2     >DELETE
<XMP>
VLIST      C 'Vector list' D=' '
</XMP>
Delete from memory all vectors in the list VLIST.
The vectors are separated in the list by a comma and imbedded blanks
are not allowed. An asterisk at the end of VLIST acts as string placeholder:
<XMP>
 VEC/DEL AB*          --->  deletes all vectors starting by AB
 VEC/DEL *            --->  deletes all vectors
</XMP>
<H3 ID=N036>COPY  vnam1 vnam2
<P>
<IH1>HELP items
<I2     >COPY
<XMP>
VNAM1      C 'Source vector name'
VNAM2      C 'Destination vector name'
</XMP>
Copy a vector into another one.
Mixed vector type copy is supported (e.g. Integer ---> Real and viceversa).
If VNAM2 does not exist it is created with the required dimensions,
not necessarily the same as the source vector if a sub-range was specified.
For example, if A is a 3 x 100 vector and B does not exist,
COPY A(2,11:60) B will create B as a 50 elements mono-dimensional vector;
a special (and non-standard with FORTRAN 77) notation is used such that,
still using the above vectors, COPY A(2,1:100) B and COPY A(2) B have the
same effect.
<?.sk>
Note that VECTOR/COPY does not allow a range for the destination vector
not specifying consecutive elements (i.e. along the first dimension):
<XMP>
 VEC/COPY V(5)      W(3,4)     | O.K.
 VEC/COPY V1(2:3,5) V2(4:5,9)  | O.K.
 VEC/COPY V1(5,2:3) V2(4:5,9)  | O.K.
 VEC/COPY V1(3,3:4) V2(4,4:5)  | NOT allowed
 VEC/COPY V1(2:3,5) V2(2,4:5)  | NOT allowed
</XMP>
Enter HELP VECTOR for more information on vector addressing.
<H3 ID=N037>INPUT  vname
<P>
<IH1>HELP items
<I2     >INPUT
<XMP>
VNAME      C 'Vector name'
</XMP>
Enter values into a vector from the terminal.
Example:
<XMP>
 VEC/INPUT V(6:10) 1.1 2.22 3.333 4.4444 5.55555
</XMP>
If many equal values have to be entered consecutively, one can specify just
one value and precede it by a repetition factor and an asterisk. Example:
<XMP>
 VEC/INPUT V 5*1 2 4*3   --->   VEC/INPUT V 1 1 1 1 1 2 3 3 3 3
</XMP>
Enter HELP VECTOR for more information on vector addressing.
<H3 ID=N038>PRINT  vname
<P>
<IH1>HELP items
<I2     >PRINT
<XMP>
VNAME      C 'Vector name'
</XMP>
Write to the terminal the content of a vector.
Enter HELP VECTOR for more information on vector addressing.
<H3 ID=N039>READ  vlist fname &lsqb; format chopt match &rsqb;
<P>
<IH1>HELP items
<I2     >READ
<XMP>
VLIST      C 'Vector list'
FNAME      C 'File name' D=' '
FORMAT     C 'Format' D=' '
CHOPT      C 'Options' D='OC' R='OC,O, ,C'
MATCH      C 'Matching pattern' D=' '
</XMP>
Enter values into vector(s) from a file.
A format can be specified, e.g. FORMAT='F10.5,2X,F10.5',
or the free format is used if FORMAT is not supplied.
<?.sk>
If vector(s) are not existing they will be created
of the size as read from the file.
<?.sk>
Vectors in the list VLIST are separated by a comma and
imbedded blanks are not allowed. If subscripts are present
in vector names, the smallest one is taken.
<?.sk>
CHOPT is used to select between the following options:
<XMP>
 'OC'   file is Open, read and then Closed (default case)
 'O'    file is Open and then read (left open for further reading)
 ' '    file is read (already open, left so for further reading)
 'C'    file is read and then Closed (already open)
</XMP>
If the character 'Z' is present in CHOPT, the vector elements equal to zero
after reading are set to the latest non-zero element value
(for example reading 1 2 3 0 0 4 0 5 will give 1 2 3 3 3 4 4 5).
<?.sk>
MATCH is used to specify a pattern string, restricting
the vector filling only to the records in the file which
verify the pattern. Example of patterns:
<XMP>
  /string/      match a string (starting in column 1)
 -/string/      do not match a string (starting in column 1)
  /string/(n)   match a string, starting in column n
</XMP>
Enter HELP VECTOR for more information on vector addressing.
<H3 ID=N040>WRITE  vlist &lsqb; fname format chopt &rsqb;
<P>
<IH1>HELP items
<I2     >WRITE
<XMP>
VLIST      C 'Vector list'
FNAME      C 'File name' D=' '
FORMAT     C 'Format' D='5(1X,G13.7)'
CHOPT      C 'Options' D='OC' R='OC,O, ,C'
</XMP>
Write to a file the content of vector(s).
If FNAME=' ' the content is written to the terminal.
A format can be specified, e.g. FORMAT='F10.5,2X,F10.5',
or the default one is used if FORMAT is not supplied.
<?.sk>
Vectors in the list VLIST are separated by a comma and
imbedded blanks are not allowed. If subscripts are present
in vector names, the smallest one is taken.
<?.sk>
CHOPT is used to select between the following options:
<XMP>
 'OC'   file is Open, written and then Closed (default case)
 'O'    file is Open and then written (left open for further writing)
 ' '    file is written (already open, left so for further writing)
 'C'    file is written and then Closed (already open)
</XMP>
Enter HELP VECTOR for more information on vector addressing.
<H2       >OPERATIONS
<P>
<IH1>HELP items
<I2     >OPERATIONS
Simple arithmetic operations between vectors.
In all the operations only the minimum vector length is considered,
i.e. an operation between a vector A of dimension 10 and a vector B
of dimension 5 will involve the first 5 elements in both vectors.
If the destination vector does not exist,
it is created with the same length as the source vector.
<H3 ID=N041>VBIAS  vnam1 bias vnam2
<P>
<IH1>HELP items
<I2     >VBIAS
<XMP>
VNAM1      C 'Source vector name'
BIAS       R 'Bias value'
VNAM2      C 'Destination vector name'
</XMP>
VNAM2(I) = BIAS     + VNAM1(I)
<H3 ID=N042>VSCALE  vnam1 scale vnam2
<P>
<IH1>HELP items
<I2     >VSCALE
<XMP>
VNAM1      C 'Source vector name'
SCALE      R 'Scale factor'
VNAM2      C 'Destination vector name'
</XMP>
VNAM2(I) = SCALE    * VNAM1(I)
<H3 ID=N043>VADD  vnam1 vnam2 vnam3
<P>
<IH1>HELP items
<I2     >VADD
<XMP>
VNAM1      C 'First source vector name'
VNAM2      C 'Second source vector name'
VNAM3      C 'Destination vector name'
</XMP>
VNAM3(I) = VNAM1(I) + VNAM2(I)
<H3 ID=N044>VMULTIPLY  vnam1 vnam2 vnam3
<P>
<IH1>HELP items
<I2     >VMULTIPLY
<XMP>
VNAM1      C 'First source vector name'
VNAM2      C 'Second source vector name'
VNAM3      C 'Destination vector name'
</XMP>
VNAM3(I) = VNAM1(I) * VNAM2(I)
<H3 ID=N045>VSUBTRACT  vnam1 vnam2 vnam3
<P>
<IH1>HELP items
<I2     >VSUBTRACT
<XMP>
VNAM1      C 'First source vector name'
VNAM2      C 'Second source vector name'
VNAM3      C 'Destination vector name'
</XMP>
VNAM3(I) = VNAM1(I) - VNAM2(I)
<H3 ID=N046>VDIVIDE  vnam1 vnam2 vnam3
<P>
<IH1>HELP items
<I2     >VDIVIDE
<XMP>
VNAM1      C 'First source vector name'
VNAM2      C 'Second source vector name'
VNAM3      C 'Destination vector name'
</XMP>
VNAM3(I) = VNAM1(I) / VNAM2(I)     ( or 0 if VNAM2(I)=0 )
<H3 ID=N047>DRAW  vname &lsqb; id chopt &rsqb;
<P>
<IH1>HELP items
<I2     >DRAW
<XMP>
VNAME      C 'Vector name'
ID         C 'Histogram Identifier' D='12345'
CHOPT      C 'Options' D=' ' R=' ,C,S,+,B,L,P,*'
</XMP>
Draw vector VNAME interpreting it as a histogram.
Optionally save the contents in histogram ID.
CHOPT may be a combination of the following characters:
<XMP>
 'C' Draw a smooth curve
 'S' Superimpose plot on top of existing picture.
 '+' Add contents of ID to last plotted histogram.
 'B' Select Bar chart format.
 'L' Connect channels contents by a line.
 'P' Draw the current polymarker at each channel.
 '*' Draw a * at each channel.
</XMP>
<H3 ID=N048>HFILL  vname id
<P>
<IH1>HELP items
<I2     >HFILL
<XMP>
VNAME      C 'Vector name'
ID         C 'Histogram Identifier'
</XMP>
Fill the existing histogram ID with vector VNAME.
Note that the command VECTOR/PLOT can automatically book, fill and plot
the contents of a vector.
<H3 ID=N049>PLOT  vname &lsqb; id chopt &rsqb;
<P>
<IH1>HELP items
<I2     >PLOT
<XMP>
VNAME      C 'Vector name'
ID         C 'Histogram Identifier' D='12345'
CHOPT      C 'Options' D=' ' R=' ,C,S,+,B,L,P,*'
</XMP>
Each element of VNAME is used to fill an histogram
which is automatically booked with 100 channels and then plotted.
If VNAME has the form VNAME1%VNAME2 then a scatter-plot of vector VNAME1
versus VNAME2 is plotted. If ID is given different of 12345, then
a 2-Dim histogram is created with 40 bins by 40 bins and filled.
One can use the command VECTOR/HFILL to fill an already existing
histogram.
CHOPT may be a combination of the following characters:
<XMP>
 'C' Draw a smooth curve
 'S' Superimpose plot on top of existing picture.
 '+' Add contents of ID to last plotted histogram.
 'B' Select Bar chart format.
 'L' Connect channels contents by a line.
 'P' Draw the current polymarker at each channel.
 '*' Draw a * at each channel.
</XMP>
<H3 ID=N050>FIT  x y ey func &lsqb; chopt np par step pmin pmax errpar &rsqb;
<P>
<IH1>HELP items
<I2     >FIT
<XMP>
X          C 'Vector of X coordinates'
Y          C 'Vector of Y coordinates'
EY         C 'Vector of errors on Y' D='?'
FUNC       C 'Function name'
CHOPT      C 'Character options' D=' ' R=' ,0,N,Q,V,B,D,W,M'
NP         I 'Number of parameters' D=0 R=0:20
PAR        C 'Vector of parameters'
STEP       C 'Vector of steps size'
PMIN       C 'Vector of lower bounds'
PMAX       C 'Vector of upper bounds'
ERRPAR     C 'Vector of errors on parameters'
</XMP>
Fit a user defined function
to the points defined by the two vectors X and Y and the vector
of associated errors EY.
See command Histo/Fit for explanation of parameters.
Note that if option 'W' is specified or EY='?' (default),
the array EY is ignored. Option 'L' is not available.
<I1 PG=END  >VECTOR
<H1>ZEBRA
<I1 PG=START>ZEBRA
<?.SP 1CM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 5MM>
<?:PTOC LEVELS=23.>
<?.SP 5MM>
<?:ARTWORK RULE DEPTH=MEDIUM.>
<?.SP 1CM>
<?.PA>
<P>
<IH1>HELP items
<I2     >ZEBRA
<H2       >RZ
<P>
<IH1>HELP items
<I2     >RZ
ZEBRA/RZ package: direct access Input/Output.
<H3 ID=N185>FILE  lun fname &lsqb; lrecl chopt &rsqb;
<P>
<IH1>HELP items
<I2     >FILE
<XMP>
LUN        I 'Logical unit number' R=1:128
FNAME      C 'File name'
LRECL      I 'Record length in WORDS' D=1024
CHOPT      C 'Options' D=' ' R=' ,U'
</XMP>
Open an existing direct access file.
<XMP>
 CHOPT=' ' readonly mode
 CHOPT='U' update mode
</XMP>
<H3 ID=N187>MDIR  chdir &lsqb; nwkey chform chtags &rsqb;
<P>
<IH1>HELP items
<I2     >MDIR
<XMP>
CHDIR      C 'Directory name'
NWKEY      I 'Number of words per Key' D=1
CHFORM     C 'CHFORM' D='I'
CHTAGS     C 'List of Tags' D='HBOOK-ID'
</XMP>
Create a new RZ directory below the current directory.
<H3 ID=N188>DDIR  chdir
<P>
<IH1>HELP items
<I2     >DDIR
<XMP>
CHDIR      C 'Directory name'
</XMP>
Delete the directory CHDIR from the current directory.
<H3 ID=N189>LDIR  &lsqb; chpath chopt &rsqb;
<P>
<IH1>HELP items
<I2     >LDIR
<XMP>
CHPATH     C 'Path name' D=' '
CHOPT      C 'Options' D=' ' R=' ,A'
</XMP>
List contents of a directory (memory or disk).
To list all RZ files currently opened, type <XPH>LD //</XPH>.
Note that if the Current Directory is <XPH>//PAWC</XPH>, this command
uses the same format as <XPH>HISTO/LIST</XPH>.
<XMP>
 CHOPT='A' to list all the Ntuple extensions.
</XMP>
<H3 ID=N190>CDIR  &lsqb; chpath chopt &rsqb;
<P>
<IH1>HELP items
<I2     >CDIR
<XMP>
CHPATH     C 'Path name' D=' '
CHOPT      C 'Options' D=' '
</XMP>
Change the current working directory (CWD).
IF CHPATH is given make it the new CWD.
Otherwise, print the pathname of the CWD.
<XMP>
 Ex.  CD dir1         ; make DIR1 the new CWD
      CD //file1/dir2 ; make //FILE1/DIR2 the new CWD
      CD              ; print the name of the CWD
</XMP>
<H3 ID=N191>PURGE  &lsqb; keep &rsqb;
<P>
<IH1>HELP items
<I2     >PURGE
<XMP>
KEEP       I 'Number of cycles to be kept' D=1
</XMP>
Purge an RZ directory.
<H3 ID=N192>LOCK  &lsqb; chlock &rsqb;
<P>
<IH1>HELP items
<I2     >LOCK
<XMP>
CHLOCK     C 'Lock identifier' D='RZFILE'
</XMP>
Lock an RZ directory.
<H3 ID=N193>FREE  &lsqb; chlock &rsqb;
<P>
<IH1>HELP items
<I2     >FREE
<XMP>
CHLOCK     C 'Lock identifier' D='RZFILE'
</XMP>
Free an RZ directory.
<H3 ID=N194>STAT  chpath
<P>
<IH1>HELP items
<I2     >STAT
<XMP>
CHPATH     C 'Name of top directory'
</XMP>
Print space statistics for an RZ file.
<H2       >FZ
<P>
<IH1>HELP items
<I2     >FZ
ZEBRA/FZ package: sequential access Input/Output.
<H3 ID=N195>FILE  lun fname &lsqb; lrecl chopt &rsqb;
<P>
<IH1>HELP items
<I2     >FILE
<XMP>
LUN        I 'Logical unit number' R=1:128
FNAME      C 'File name'
LRECL      I 'Record length in words' D=900
CHOPT      C 'Options' D='IX' R='I,O,X,A,IX,OX,IA,OA'
</XMP>
Open an FZ sequential formatted or unformatted file.
<XMP>
  CHOPT = 'I' Input file.
  CHOPT = 'O' Output file
  CHOPT = 'X' binary eXchange mode.
  CHOPT = 'A' Alphanumeric exchange mode.
</XMP>
<H3 ID=N196>TOFZ  lun &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >TOFZ
<XMP>
LUN        I 'Logical unit number of FZ file' R=1:128
CHOPT      C 'Options' D=' '
</XMP>
Copy the current directory tree onto an FZ file.
<H3 ID=N197>FRFZ  lun &lsqb; chopt &rsqb;
<P>
<IH1>HELP items
<I2     >FRFZ
<XMP>
LUN        I 'Logical unit number of FZ file' R=1:128
CHOPT      C 'Options' D=' '
</XMP>
Copy the FZ file into the current directory tree.
<H3 ID=N198>TOALPHA  fname
<P>
<IH1>HELP items
<I2     >TOALPHA
<XMP>
FNAME      C 'Name of the FZ text file'
</XMP>
Copy the current directory tree onto a FZ file.
An alphanumeric format is used.
The file FNAME can be exchanged between different machines.
<H3 ID=N199>FRALPHA  fname
<P>
<IH1>HELP items
<I2     >FRALPHA
<XMP>
FNAME      C 'Name of the FZ text file'
</XMP>
Copy the FZ alphanumeric file into the current directory.
<?.PA>
<H2       >DZ
<P>
<IH1>HELP items
<I2     >DZ
<H3 ID=N200>SHOW  name &lsqb; number chopt &rsqb;
<P>
<IH1>HELP items
<I2     >SHOW
<XMP>
NAME       C 'Bank name'
NUMBER     I 'Bank number' D=1
CHOPT      C 'Options' D='BSV'
</XMP>
Display the contents of a bank or a data structure
identified by its NAME and NUMBER.
The output format of the data part is controlled by the internal
or external I/O characteristic.
<XMP>
 CHOPT='B' Print the bank.
 CHOPT='S' Print the bank contents from left to right Sideways
           with up to ten elements per line.
 CHOPT='V' Print the vertical (down) structure.
 CHOPT='D' Print the bank contents from top to bottom Downwards
           with five elements per line.
 CHOPT='L' Print the linear structure.
 CHOPT='Z' Print the data part of each bank in hexadecimal format
</XMP>
<H3 ID=N201>SURV  name &lsqb; number &rsqb;
<P>
<IH1>HELP items
<I2     >SURV
<XMP>
NAME       C 'Bank name'
NUMBER     I 'Bank number' D=1
</XMP>
Print a survey of the structure identified by NAME, NUMBER.
<H3 ID=N202>SNAP  &lsqb; idiv chopt &rsqb;
<P>
<IH1>HELP items
<I2     >SNAP
<XMP>
IDIV       I 'Division number' D=2 R=0:24
CHOPT      C 'Options' D='M'
</XMP>
Snap of one or more divisions.
Provides a snapshot of one or more divisions in a ZEBRA store.
The kind of information provided is controlled by CHOPT.
<XMP>
 CHOPT='M' Print Map entry for each bank
 CHOPT='E' Extend map entry to dump all links of each bank
           (otherwise only as many links as will fit on a line)
 CHOPT='F' Full. Dump all active banks, links and data
 CHOPT='K' Kill. Dropped banks to be treated as active
           (dropped banks are not normally dumped under D or F option)
 CHOPT='L' Dump all Link areas associated with the store
 CHOPT='W' Dump the Working space, links and data
 CHOPT='Z' Dump the information in hexadecimal.
</XMP>
<H3 ID=N203>VERIFY  &lsqb; idiv chopt &rsqb;
<P>
<IH1>HELP items
<I2     >VERIFY
<XMP>
IDIV       I 'Division number' D=0 R=0:24
CHOPT      C 'Options' D='CLSU'
</XMP>
Check the structure of one or more ZEBRA divisions.
The verification detail depends on the settings in CHOPT.
<XMP>
 CHOPT='C' Check chaining of banks only
 CHOPT='L' Check validity of the structural links in the banks (implies 'C')
 CHOPT='S' Check the store parameters
 CHOPT='U' Check the validity of the up and origin links in the banks (implies 'C')
 CHOPT='F' Errors are considered fatal and generate a call to ZFATAL
</XMP>
<H3 ID=N204>STORE  &lsqb; ixstor &rsqb;
<P>
<IH1>HELP items
<I2     >STORE
<XMP>
IXSTOR     I 'Store number' D=0 R=0:24
</XMP>
Display the structure of the ZEBRA store IXSTOR.
Output the parameters characterizing the store, followed by a
list of all divisions and all link areas associated with the store in
question.
<I1 PG=END  >ZEBRA
 
