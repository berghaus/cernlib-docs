<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter 2. Anaphe Object Model</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V"><link rel="home" href="anaphe.html" title="Analysis for Physics Experiments (Version 2.0.1)"><link rel="up" href="anaphe.html" title="Analysis for Physics Experiments (Version 2.0.1)"><link rel="previous" href="ch01s07.html" title="Problem Reporting"><link rel="next" href="ch02s02.html" title="The new Data Model"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 2. Anaphe Object Model</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s07.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch02s02.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><h2 class="title"><a name="H1LHCPPObjectModel"></a>Chapter 2. Anaphe Object Model</h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt> <a href="ch02.html#d0e716">A historical digression: Ntuples and PAW</a></dt><dt> <a href="ch02s02.html">The new Data Model</a></dt><dt> <a href="ch02s03.html">Implementing the Data Model: explorable collections</a></dt></dl></div><div class="sect1"><a name="d0e716"></a><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="d0e716"></a>A historical digression: Ntuples and PAW</h2></div></div><p>
During the past decade, many HEP experiments  have based their
interactive data analysis on the following steps
(see the top half of Figure <a href="ch02.html#NTUPLETAGDB" title="Figure 2.1. The Ntuple and TagDB models">Figure 2.1</a>).
</p><div class="figure"><a class="indexterm" name="d0e726"></a><a class="indexterm" name="d0e729"></a><a class="indexterm" name="d0e732"></a><a class="indexterm" name="d0e735"></a><p><img align="center" src="ntupletagdb.jpeg"></p><p><a name="NTUPLETAGDB"></a><b>Figure 2.1. The Ntuple and TagDB models</b></p></div><div class="orderedlist"><ol type="1"><li><p><a name="d0e740"></a>
<i>Raw and reconstructed</i> data are stored in <i>banks</i> in an
experiment-specific hierarchical format.  Most of the time one uses
many different files on several distinct hosts.
</p></li><li><p><a name="d0e749"></a>
These data are <i>distilled</i> and <i>reclustered</i> to obtain a
more compact and thus more efficient representation. This permits a
significant speed-up for the down-stream analysis compared to using
the data in their raw form as described in point 1.  This format
corresponds to the so-called HBOOK Ntuples.  One drawback of this
method is that the direct relation to the raw <i>event data</i> is
lost.
<a class="indexterm" name="d0e761"></a>
<a class="indexterm" name="d0e765"></a>
</p></li><li><p><a name="d0e769"></a>
Ntuple files are analysed <i>interactively</i> with programs
like PAW. Plots of physics variables are produced by extracting
information contained in one or more of the Ntuple rows or columns,
binning them in HBOOK histograms and then operating on these histograms
to obtain the best representation. 
<a class="indexterm" name="d0e775"></a>
</p></li></ol></div><p>
The advantage of Ntuples is that their format is known and simple enough, 
so that a general purpose analysis tool, such as PAW can cope with data
coming from any experiment. On the other hand, since no link to the
original data exists, Ntuples impose a limitation on the structure of
the data physicists can use for their analysis. On top of that, since
the data were copied from the original files into a dedicated Ntuple
file, each time original dataset changed most Ntuple files had to be
regenerated.
<a class="indexterm" name="d0e781"></a>
<a class="indexterm" name="d0e785"></a>
</p><p>
Two kinds of Ntuples exists. <i>Row-Wise Ntuples</i> transform a
complex data structure into a simple tabular form.  <i>Column-Wise
Ntuples</i> on the other hand improve the flexibility of the Ntuple data
model by allowing the definition of variable-length items, but they
still are difficult to use to describe complex data structures, like
those of the reconstructed data.  Moreover, the Ntuple Query language
is rather non-intuitive and complex to master.
</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s07.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="anaphe.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch02s02.html">Next</a></td></tr><tr><td width="40%" align="left">Problem Reporting&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="anaphe.html">Up</a></td><td width="40%" align="right">&nbsp;The new Data Model</td></tr></table></div></body></html>