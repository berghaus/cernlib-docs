<html xmlns:lxslt="http://xml.apache.org/xslt" xmlns:saxon="http://icl.com/saxon" xmlns:xalanredirect="org.apache.xalan.xslt.extensions.Redirect">
<head>
<title>Converting an HBOOK file into an Objectivity/DB database</title>
<link rel="stylesheet" href="docbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.15">
<link rel="home" href="index.html" title="Analysis for Physics Experiments (Version 2.0.1)">
<link rel="up" href="ch05.html" title="5. Histogram and tag classes">
<link rel="previous" href="ch05.html" title="5. Histogram and tag classes">
<link rel="next" href="ch05s03.html" title="The tag classes">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%">
<tr>
<th colspan="3" align="center">Converting an HBOOK file into an Objectivity/DB database</th>
</tr>
<tr>
<td width="20%" align="left"><a href="ch05.html">Prev</a>&nbsp;</td><th width="60%" align="center">5. Histogram and tag classes</th><td widht="20%" align="right">&nbsp;<a href="ch05s03.html">Next</a></td>
</tr>
</table>
<hr>
</div>
<div id="N4879" class="sect1">
<h2 class="title" style="clear: all">
<a name="N4879"><b>Converting an HBOOK file into an Objectivity/DB database</b></a>
</h2>
<p>The program Hbook2Objy
converts histograms contained in an HBOOK file into persistent HTL
histograms that can be saved in an Objectivity/DB database. Only one- and
two-dimensional histograms are converted, Ntuples are ignored. To
execute the program you should type:</p>
<pre class="programlisting">
$HISTOODIR/bin/Hbook2Objy &lt;hfile&gt; &lt;OBJ-federated-DB&gt;
</pre>
<p>
Starting from the histograms in the HBOOK file
<tt>&lt;hfile&gt;</tt> the program will create a new database
with as name the name of the HBOOK file <tt>&lt;hfile&gt;</tt>
inside the Objectivity/DB database pointed at by the environment variable
<tt>OO_FD_BOOT</tt>.  If <tt>&lt;hfile&gt;</tt> already
exists, then you will be asked whether you want to overwrite the
original file.  



</p>
<p>
It should be noted that the hierarchical (directory) structure of the
HBOOK file is not preserved. Nevertheless, since the name of each
created persistent histogram corresponds to the full path name inside
the HBOOK hierarchy, it is easy to distinguish between histograms with
the same name but coming from different HBOOK directories.  An example
of the translation of a set of HBOOK histograms is shown in Figure
<a href="ch05s02.html#PAW2HISTOO">Figure 5.1.</a>.  At the top we see some (1D and 2D)
histograms with the HBOOK Directory Browser, and at the bottom the
same histograms after conversion as viewed from the Objectivity/DB database
with the HistOOgramReader module.
</p>
<div class="figure">
<p>
<a name="PAW2HISTOO"></a><b>Figure 5.1. Transforming HBOOK histograms into HTL histograms</b>
</p>
<div class="informaltable" id="N4960">
<p>
</p>
<a name="N4960"></a>
<table border="1">
<colgroup>
<col>
</colgroup>
<tbody>
<tr>
<td><img src="H2OPaw.jpeg"></td>
</tr>
<tr>
<td><img src="H2OHistOOReader.jpeg"></td>
</tr>
</tbody>
</table>
<p>
</p>
</div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%">
<tr>
<td width="40%" align="left"><a href="ch05.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a href="index.html">Home</a></td><td widht="40%" align="right">&nbsp;<a href="ch05s03.html">Next</a></td>
</tr>
<tr>
<td width="40%" align="left">5. Histogram and tag classes&nbsp;</td><td width="20%" align="center"><a href="ch05.html">Up</a></td><td widht="40%" align="right">&nbsp;The tag classes</td>
</tr>
</table>
</div>
</body>
</html>
