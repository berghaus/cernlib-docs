<HEAD>
<TITLE> The SHIFT User Environment</TITLE>
</HEAD>
<BODY><P>
 <HR> <A NAME=tex2html153 HREF=chapter2_8.html><IMG ALIGN=MIDDLE SRC="http://asis01.cern.ch/CN/CERNTEX/icons/next_motif.gif"></A> <A NAME=tex2html151 HREF=shiftuser.html><IMG ALIGN=MIDDLE SRC="http://asis01.cern.ch/CN/CERNTEX/icons/up_motif.gif"></A> <A NAME=tex2html145 HREF=chapter2_6.html><IMG ALIGN=MIDDLE SRC="http://asis01.cern.ch/CN/CERNTEX/icons/previous_motif.gif"></A> <A NAME=tex2html155 HREF=tableofcontents2_1.html><IMG ALIGN=MIDDLE SRC="http://asis01.cern.ch/CN/CERNTEX/icons/contents_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html154 HREF=chapter2_8.html> Batch Job Submission </A>
<B>Up:</B> <A NAME=tex2html152 HREF=shiftuser.html>No Title</A>
<B> Previous:</B> <A NAME=tex2html146 HREF=chapter2_6.html> The SHIFT System </A>
<HR> <P>
<H1><A NAME=SECTION0070000000000000000> The SHIFT User Environment</A></H1>
<P>
<H1><A NAME=SECTION0071000000000000000> Home directories</A></H1>
<P>
A user's home directory on SHIFT has the generic form:
<b>/u/gg/username</b>,
where
<tt>gg</tt>
is the 2-character group code and
<tt>username</tt>
is the user's login identifier.
<P>
The organisation of the home directories is described in more detail in the
previous on the SHIFT System Environment.
<P>
<H1><A NAME=SECTION0072000000000000000> Shell Startup Files</A></H1>
<P>
Upon registration, a SHIFT user is supplied with SHELL startup files.
For interactive work in SHIFT, the C-shell /bin/csh or /bin/tcsh are used
almost universally and C-shell initialisation is performed at 3 levels
for both .login and .cshrc:
<P>
<PRE><TT>user    /u/gg/user/.login
     group   /u/gg/pubgg/group_login
     system  /usr/local/etc/system_login
 
     user    /u/gg/user/.cshrc
     group   /u/gg/pubgg/group_cshrc
     system  /usr/local/etc/system_cshrc</TT></PRE>
The .login and .cshrc files in a user's home directory
first look for a system level file followed by the group level.
The group level files are administered by responsible persons
within the particular group/experiment.
<P>
<H1><A NAME=SECTION0073000000000000000> CORE Service Classes</A></H1>
<P>
CORE comprises a number of distinct but related services.
Some are shared like CSF whereas other a private to a particular experiment.
A user must be registered for each <em>service class</em> within CORE that he
wishes to use.
<P>
When a user accesses a CORE system, checks are carried to ensure that
the user is authorised for the particular service to which the system belongs.
On sucessful login, an ENVIRONMENT variable <tt>SERVICE</tt> is set to indicate
the name of the CORE service being used (See Section 2.6 below).
<P>
<H1><A NAME=SECTION0074000000000000000> SuperComputer Access</A></H1>
<P>
Some CORE systems are classed as <em>supercomputers</em> and access
to these is restricted for nationals of certain countries.
In an similar manner to the service checks, supercomputer access rights are
checked at login.
<P>
<H1><A NAME=SECTION0075000000000000000> CORE Environment Variables</A></H1>
<P>
The system level shell initialisation file defines four ENVIRONMENT
variables which are listed below together with possible values.
Note that the variables and their values are in UPPER case.
<P>
<H2><A NAME=SECTION0075100000000000000> ARCHITECTURE Variable</A></H2>
<P>
This defines the machine architecture.
<P>
<P>
<PRE>



-----------------ARCHITECTURE------------------
  HPPA        HP 9000 Precision Architecture

  MIPS3000    Silicon Graphics MIPS 3000
  MIPS4000    Silicon Graphics MIPS 4000
  SUN4        SUN Sparc

  ALPHA       DEC Alpha
</PRE><P><H2><A NAME=SECTION0075200000000000000> SERVICE Variable</A></H2>
<P>
This defines the CORE service class.
<P>
<P>
<PRE>



--------------------SERVICE---------------------
  SHIFTOPAL      SHIFT analysis for OPAL

  SHIFTALEPH     SHIFT analysis for ALEPH
  SHIFTL3        SHIFT analysis for L3
  SHIFTDELPHI    SHIFT analysis for DELPHI

  CSF            CSF simulation service
  ATLAS          ATLAS Reconstruction Service

  CMS            CMS Reconstruction Service
  CPLEAR         CPLEAR analysis system
</PRE><P><H2><A NAME=SECTION0075300000000000000> VENDOR Variable</A></H2>
<P>
This defines the machine vendor.
<P>
<P>
<PRE>



-----------VENDOR------------
  HP     Hewlett Packard

  DEC    Digital Equipment
  SGI    Silicon Graphics
  IBM    IBM

  SUN    SUN
</PRE><P><H1><A NAME=SECTION0076000000000000000> Command Search Path</A></H1>
<P>
On UNIX systems, the command search path is defined by the PATH
environment variable.
The PATH variable consists of a list of directory files which
contain executable programs and shell script.
The current setting of the PATH variable may be displayed by the
command
<tt>echo $PATH</tt>
On <i>shift</i>several directories have been
added to the path in addition to the standard directories such as
<tt>/bin</tt> and <tt>/usr/bin</tt>.
<P>
<UL><LI> <b>/usr/bin/X11</b> X-Window application programs
<LI> <b>/usr/local/bin</b> UNIX utility programs installed locally
<LI> <b>/cern/pro/bin</b> CERNLIB executables
</UL><H1><A NAME=SECTION0077000000000000000> Registration and Accounting</A></H1>
<P>
User registration for <i>shift</i> accounts is handled by CERN group administrators
using the USERREG script on CERNVM.
The registration procedure ensures that the user is allocated
a unique UID corresponding to his login identifier. If the user
already has an account on one of the central UNIX systems, then the
same login identifier will be used in <i>shift</i>.
The UID code determines file ownership on UNIX systems and
coherence across different systems at CERN is essential.
<P>
Once a user is registered for <i>shift</i>, he is able to login on
any on the <i>shift</i> systems and user home directories are visible across the
whole <i>shift</i> domain.
Accounts on <i>shift</i> nodes are managed using the
<i>Network Information System</i>
or Yellow Pages.
The system
<tt>COREYP</tt> is the Yellow Pages Master Server, where updates are made
and other nodes act as slave servers.
<P>
A list of registered <i>shift</i> users is generated each night and
transferred to CERNVM for correlation with the central database.
<P>
System accounting reports are produced each day and a shell script
correlates the user accounting data with the CERN group codes.
Each week, a summary accounting report is transferred to the
accounting database on CERNVM.
Detailed accounting information is maintained for a certain period on
each node of the <i>shift</i> configuration.
<P>
<H1><A NAME=SECTION0078000000000000000> Network Access</A></H1>
<P>
Three different Network media are used in the <i>shift</i> project:
Ethernet, FDDI Ring, and UltraNet.
Initially, all nodes have Ethernet and UltraNet connections and the FDDI
connections may be added where required.
Each network interface on a <i>shift</i> node must be given a separate <b>Internet</b>
address.
<P>
The primary interface of each node, currently Ethernet, is identified
by the hostname and has an Internet number in the
officially registered Class B Network for CERN, network
number <tt>128.141</tt>.
Machines on the CERN Class B network have officially registered names
and may be visible from networks outside the CERN site. Class C networks
are internal CERN networks which are unknown to the outside world.
Class C nodes are reached from the Class B network via Gateway machines.
<P>
Internet addresses for the secondary interfaces
are generated by adding prefixes or suffices to the hostnames as follows:
    <UL><LI> [hostname-u]
The name used for UltraNet access and is a <b>subnet</b> of the
CERN Class B network.
<LI>[hostname-uip]
Used for special UltraNet applications which create their own IP packets.
It is a separate Class C network.
<LI>[f-hostname]
Currently, the FDDI ring connections use a separate Class C network.
This will change in the future and FDDI connections will become
the primary interface to the CERN Class B network.
</UL><H2><A NAME=SECTION0078100000000000000> File transfer</A></H2>
<P>
When using the file transfer commands such as
<tt>ftp</tt> and <tt>rcp,</tt>
the transfer medium can be selected by choosing the appropriate nodename.
For example, when logged in to <i>shift1</i>, the command
<P>
<tt>rcp shd01-u:data.f  data.f</tt>
will transfer the file data.f using UltraNet whereas
<P>
<tt>rcp shd01:data.f  data.f</tt>
will make the transfer using Ethernet.
<P>
<H1><A NAME=SECTION0079000000000000000> CERNLIB - CERN Program Library</A></H1>
<P>
The location of the CERN Program Library on <i>shift</i> systems is given
by the 3 environment variables:
<P>
<PRE><TT>CERN       = /cern
CERN_LEVEL = pro
CERN_ROOT  = /cern/pro</TT></PRE>
<P>
On the <i>shift</i> Silicon Graphics nodes, the library is located in <b>/usr/local/cern</b>,
and the file <b>/cern</b> is a symbolic link to this directory.
<P>
<HR> <A NAME=tex2html153 HREF=chapter2_8.html><IMG ALIGN=MIDDLE SRC="http://asis01.cern.ch/CN/CERNTEX/icons/next_motif.gif"></A> <A NAME=tex2html151 HREF=shiftuser.html><IMG ALIGN=MIDDLE SRC="http://asis01.cern.ch/CN/CERNTEX/icons/up_motif.gif"></A> <A NAME=tex2html145 HREF=chapter2_6.html><IMG ALIGN=MIDDLE SRC="http://asis01.cern.ch/CN/CERNTEX/icons/previous_motif.gif"></A> <A NAME=tex2html155 HREF=tableofcontents2_1.html><IMG ALIGN=MIDDLE SRC="http://asis01.cern.ch/CN/CERNTEX/icons/contents_motif.gif"></A> <BR>
<B> Next:</B> <A NAME=tex2html154 HREF=chapter2_8.html> Batch Job Submission </A>
<B>Up:</B> <A NAME=tex2html152 HREF=shiftuser.html>No Title</A>
<B> Previous:</B> <A NAME=tex2html146 HREF=chapter2_6.html> The SHIFT System </A>
<HR> <P>
<HR>

</BODY>
<P><ADDRESS>
<I>goossens@ <BR>
Fri Mar  4 17:06:49 MET 1994</I>
</ADDRESS>